<div class="loader-box" *ngIf="loading">
   <img src="./assets/imgs/load.gif" />
</div>

<div class="analytics-sec">
   <div class="ipd-deatil-sec">
      <div class="ipd-body">
         <div class="cus-sidebar-wrapper side-bar-cstm">
            <br>
            <div class="cus-sidebar">
               <ul>
                  <li>
                     <div class="">
                        <div class="col-lg-3">
                           <h4 class="pd-left"><b>From</b></h4>
                        </div>
                        <div class="col-lg-9">
                           <div class="cstm-mg">
                              <angular2-date-picker [(ngModel)]="fromDate1" [settings]="settings"></angular2-date-picker>
                           </div>
                        </div>
                     </div>
                  </li>
                  <li>
                     <div class="">
                        <div class="col-lg-3">
                           <h4 class="pd-left"><b>To</b></h4>
                        </div>
                        <div class="col-lg-9">
                           <div class="cstm-mg">
                              <angular2-date-picker [(ngModel)]="toDate1" [settings]="settings"></angular2-date-picker>
                           </div>
                        </div>
                     </div>
                  </li>
                  <li class="text-right brder-cstm">
                     <div class="col-lg-12 text-center">
                        <button class="btn btn-go" (click)="go()">Go</button>
                     </div>
                  </li>
                  <li class="li-cstm"> <a href="javascript:void(0);"> For Past</a> </li>
                  <li class="{{getClass(1)}} active one" id="one" (click)="activatetab(1)" > <a href="javascript:void(0);"> 1 Week &nbsp;<small *ngIf="activatedtab==1">({{fromDate | date: 'dd/LL/yy'}} - {{toDate | date: 'dd/LL/yy'}})</small> </a> </li>
                  <li class="{{getClass(2)}}" (click)="activatetab(2)"> <a href="javascript:void(0);"> 2 Weeks &nbsp;<small *ngIf="activatedtab==2">({{fromDate | date: 'dd/LL/yy'}} - {{toDate | date: 'dd/LL/yy'}})</small>  </a> </li>
                  <li class="{{getClass(3)}}" (click)="activatetab(3)"> <a href="javascript:void(0);"> 1 Month &nbsp;<small *ngIf="activatedtab==3">({{fromDate | date: 'dd/LL/yy'}} - {{toDate | date: 'dd/LL/yy'}})</small> </a> </li>
                  <li class="{{getClass(4)}}" (click)="activatetab(4)"> <a href="javascript:void(0);"> 3 Month &nbsp;<small *ngIf="activatedtab==4">({{fromDate | date: 'dd/LL/yy'}} - {{toDate | date: 'dd/LL/yy'}})</small></a> </li>
                  <li class="{{getClass(5)}}" (click)="activatetab(5)"> <a href="javascript:void(0);"> 6 Month &nbsp;<small *ngIf="activatedtab==5">({{fromDate | date: 'dd/LL/yy'}} - {{toDate | date: 'dd/LL/yy'}})</small></a> </li>
                  <li class="{{getClass(6)}}" (click)="activatetab(6)"> <a href="javascript:void(0);"> 1 Year &nbsp;<small *ngIf="activatedtab==6">({{fromDate | date: 'dd/LL/yy'}} - {{toDate | date: 'dd/LL/yy'}})</small></a> </li>
                  <li class="{{getClass(7)}}" (click)="activatetab(7)"> <a href="javascript:void(0);"> All </a> </li>
               </ul>
            </div>
         </div>
         <div class="cus-content-wrapper">
            <div class="cus-content">
               <div class="row brdr-lft">
                <br>
                <div class="col-lg-12">
                  <div class="row">
                     <div class="col-lg-1">
                        <h6><b>Search by</b></h6>
                     </div>
                     <div class="col-lg-10">
                        <div class="form-group">
                           <input type="text" class="form-control" [(ngModel)]="searchInput" id="usr" placeholder="Name, Phone number, Prescription id" (keyup)="onKey($event)">
                        </div>
                     </div>
                     <div class="col-lg-1">
                        <button class="btn btn-go" (click)="searchByName()">Search</button>
                     </div>
                  </div>
               </div>
               <div class="stock-tab">
                  <div class="col-lg-12">
                     <div class="tbl-cntrol" style="min-height:0.1px; max-height:450px; overflow-x:hidden;overflow-y:scroll;">
                        <table class="table table-bordered " matSort (matSortChange)="sortData($event)">
                           <thead class="new-thd">
                              <tr>
                                 <th width="10%">
                                    <h4 style="width: 100%; text-align: center;">S.NO</h4>
                                 </th>
                                 <th mat-sort-header="date" width="10%" class="{{getTableHeaderClass(2)}} text-center" (click)="setTableHeaderClass(2)">
                                    <h4 style="width: 100%; text-align: center;">DATE</h4>
                                 </th>
                                 <th mat-sort-header="name" width="10%" class="{{getTableHeaderClass(3)}} text-center" (click)="setTableHeaderClass(3)">
                                    <h4 style="width: 100%; text-align: center;">PATIENT NAME</h4>
                                 </th>
                                 <th mat-sort-header="phone" width="10%" class="{{getTableHeaderClass(4)}} text-center" (click)="setTableHeaderClass(4)">
                                    <h4 style="width: 100%; text-align: center;">NUMBER</h4>
                                 </th>
                                 <th mat-sort-header="address" width="10%" class="{{getTableHeaderClass(1)}} text-center" (click)="setTableHeaderClass(1)">
                                    <h4 style="width: 100%; text-align: center;">ADDRESS</h4>
                                 </th>
                                 <th mat-sort-header="count" width="10%" class="{{getTableHeaderClass(5)}} text-center" (click)="setTableHeaderClass(5)">
                                    <h4 style="width: 100%; text-align: center;">VISIT COUNT</h4>
                                 </th>
                                 <th width="10%">
                                    <h4 style="width: 100%; text-align: center;">ACTION</h4>
                                 </th>
                              </tr>
                           </thead>
                           <tbody class="new-tbdy">
                              <tr *ngFor="let list of sortedData; let i = index">
                                 <td class="text-center">{{i+1}}</td>
                                 <td class="text-center">{{list?.createdAt | date: 'dd/MM/yyyy'}}</td>
                                 <td class="text-center">{{list?.registration?.pateintName | uppercase}} </td>
                                 <td class="text-center">{{list?.registration?.pateintPhone}}</td>
                                 <td class="text-center" *ngIf="list.registration.location">{{list?.registration?.location}}</td>
                                 <td class="text-center" *ngIf="!list.registration.location">Other</td>
                                 <td class="text-center" *ngIf="list?.registration?.lastVisit?.status == true">{{list.registration.lastVisit.count + 1}}</td>
                                 <td class="text-center" *ngIf="list?.registration?.lastVisit?.status == false">{{1}}</td>
                                 <td class="text-center">
                                    <button *ngIf="!list.image"  class="text-center btn btn-success cursr" (click)="openPrescriptionPreview(list)">View</button>
                                    <!-- <button *ngIf="list.image"  class="text-center btn btn-success kk">View</button> -->
                                    <button *ngIf="list.image"  class="text-center btn btn-success cursr" (click)="dispensedPatientSelectedOpen(list)">View</button>
                                    <button class="text-center btn btn-danger cursr"
                                    mwlConfirmationPopover
                                    [popoverTitle]="popoverTitle"
                                    [popoverMessage]="popoverMessage"
                                    placement= "left"
                                    (confirm)="deleteRecord(list._id)"
                                    (cancel)="cancelClicked = true"

                                    > Delete</button>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
</div>
</div>
<footer style="position: fixed;bottom:0px;width:100%;padding-bottom: 10px;">
 <div class="row">
  <div class="col-lg-6 text-right">
   <button class="btn btn-custom" (click) = "exportPdf()">EXPORT</button>
</div>
<div class="col-lg-6 text-center">
   <button class="btn btn-custom" >Prescription Count : {{prescriptionCount}}</button>
</div>

</div>
<!-- <br> -->
</footer>
<div class="modal fade cus-preview" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
   <div class="modal-dialog" role="document">
      <div class="modal-content">
         <div class="modal-header">
            <div>
               <h4 class="modal-title"> Preview </h4>
            </div>
            <div class="text-center">
               <button type="button" class="btn-sm btn btn-custom" (click)="createPdf()"> Print </button>
            </div>
            <div>
               <button type="button" class="pull-right btn-sm btn btn-custom btn-outline" data-dismiss="modal" aria-label="Close"> Close </button>
            </div>
         </div>
         <div class="modal-body" id="previewModalPdf">
            <div class="row">
               <div class="presc-modal-body">
                  <div class="pad-view">
                     <div class="padview-header">
                        <div class="pad-view-flx col-lg-4" style="float:left;width:49%;">
                           <div class="form-group doctor-name" *ngIf="checkOptionOfPad('Doctor_name')">
                              <h1 id="translated_doctorName"> Dr<span class="notranslate">.</span> {{doctorData.first_name}} </h1>
                           </div>
                           <div class="form-group qual">
                              <p class="color-purple">
                                 <span *ngIf="checkOptionOfPad('Specialization')">({{doctorData.specialization}})</span>
                                 <br>
                                 <span *ngIf="checkOptionOfPad('Qualifications')">
                                    <span *ngFor="let data of doctorData.qualification;let i = index">
                                       {{data.value}} <span *ngIf="i!=doctorData.qualification?.length-1">,</span>
                                    </span>
                                 </span>
                              </p>
                              <p *ngIf="checkOptionOfPad('registration_no')"> Registration: <span class="color-purple"> {{doctorData.registration_no}} </span> </p>
                              <p *ngIf="checkOptionOfPad('Professional_affiliation')" style="width:200px;word-break: break-all;">
                                 <span class="color-purple" *ngFor="let pa of doctorData.professional_affiliation;let i=index">
                                    {{pa.value}}<span *ngIf="i!=doctorData.professional_affiliation?.length-1">,</span>
                                 </span>
                              </p>
                           </div>
                        </div>
                        <div class="pad-view-flx col-lg-6" style="float:left;width:49%;">
                           <ul class="clinic-detail">
                              <li class="clinic-name" *ngIf="checkOptionOfPad('Clinic_name')">
                                 <h1 id="translated_clinicName"> {{doctorsDetails.clinic_details.clinic_name}} </h1>
                              </li>
                              <li *ngIf="doctorsDetails.clinic_details.address">{{doctorsDetails.clinic_details.address}}, {{doctorsDetails.clinic_details.area}}, {{doctorsDetails.clinic_details.city}}, {{doctorsDetails.clinic_details.state}}</li>
                              <li class="li-cstm">
                                 <div class="row" *ngIf="doctorsDetails.clinic_details.mobile || doctorsDetails.clinic_details.landline">
                                    <div class="col-lg-12">
                                       <h4 class="for-apt"> For appointments </h4>
                                       <p *ngIf="doctorsDetails.clinic_details.landline"> Tel: {{doctorsDetails.clinic_details.std_code}}-{{doctorsDetails.clinic_details.landline}}</p>
                                       <p> Mb: +91-{{doctorsDetails.clinic_details.mobile}} </p>
                                    </div>
                                 </div>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <p class="text-center">
                        <label id="translated_appointmentText"> {{getHeaderText()}} </label>
                     </p>
                     <div class="padview-body">
                        <div class="col-md-2 col-sm-2 col-xs- p-0">
                           <div class="emergency-wrap">
                              <div class="form-group emrgency-consult" *ngIf="dispensedPatient.type=='Emergency'">
                                 <p class="small" id="translated_emergencyText"><i> Emergency Consultation </i> </p>
                              </div>
                              <div class="form-group schdl" *ngIf="checkOptionOfPad('Clinic_schedule')">
                                 <h5 class=" color-blue"> Schedule: </h5>
                                 <div class="form-group span-txt" *ngFor="let shift of allShifts">
                                    <span><strong style="display:block; width:110px;"> {{shift.day}}: </strong>
                                       <span class="mrgin-r" *ngFor="let time of shift.shifts"> 
                                          [
                                          <span *ngIf="time.fromTime.hour=='0'">{{time.fromTime.hour}}0:</span>
                                          <span *ngIf="time.fromTime.hour!='0'">{{time.fromTime.hour}}:</span>
                                          <span *ngIf="time.fromTime.minute=='0'">{{time.fromTime.minute}}0 –</span>
                                          <span *ngIf="time.fromTime.minute!='0'">{{time.fromTime.minute}} –</span>
                                          <span *ngIf="time.toTime.hour=='0'">{{time.toTime.hour}}0:</span>
                                          <span *ngIf="time.toTime.hour!='0'">{{time.toTime.hour}}:</span>
                                          <span *ngIf="time.toTime.minute=='0'">{{time.toTime.minute}}0</span>
                                          <span *ngIf="time.toTime.minute!='0'">{{time.toTime.minute}}</span> ]
                                       </span>
                                       <br>
                                    </span>
                                 </div>
                                 <div class="form-group" *ngFor="let shift of allShiftsClosed">
                                    <span><strong> {{shift.day}}: </strong> Closed 
                                    </span>
                                 </div>
                              </div>
                              <div id="translated_treatmentText" *ngIf="checkOptionOfPad('Available_treatments')">
                                 <h5 class="color-blue"> Available Treatments: </h5>
                                 <ul style="padding-left:15px!important;">
                                    <li *ngFor="let treat of doctorData.expertise">{{treat.value}}</li>
                                 </ul>
                              </div>
                              <div *ngIf="doctorData.clinic_services_status=='Yes' && checkOptionOfPad('Available_services')" id="translated_servicesText">
                                 <h5 class="color-blue"> Available Services: </h5>
                                 <ul style="padding-left:15px!important;">
                                    <li *ngIf="doctorData.clinic_services.Clinic_Pharmacy">Pharmacy</li>
                                    <li *ngIf="doctorData.clinic_services.Clinic_IPD">IPD</li>
                                    <li *ngFor="let cs of doctorData.clinic_services.ClinicServicesDetail"> {{cs}} </li>
                                    <li *ngFor="let cs of doctorData.clinic_services.OtherClinicService"> {{cs.value}} </li>
                                 </ul>
                              </div>
                           </div>
                        </div>
                        <div class="col-md-10 col-sm-10 col-xs-10 p-0" style="font-size: 10px;">
                           <div class="padview-bodyright">
                              <ul class="padview-body-header">
                                 <li>
                                    <div class="text-underline"> Prescription ID </div>
                                    <div class="strong">{{prescription_id}}</div>
                                 </li>
                                 <li>
                                    <div class="text-underline"> Name </div>
                                    <div class="strong"> {{dispensedPatient?.pateintName | uppercase}} </div>
                                 </li>
                                 <li>
                                    <div class="text-underline"> Age/Sex </div>
                                    <div class="strong"> {{dispensedPatient?.age}} / {{dispensedPatient?.gender}} </div>
                                 </li>
                                 <li>
                                    <div class="text-underline"> Weight </div>
                                    <div class="strong" *ngIf="dispensedPatient?.weight"> {{dispensedPatient.weight}} Kg </div>
                                 </li>
                                 <li>
                                    <div class="text-underline"> Height </div>
                                    <div class="strong" *ngIf="dispensedPatient?.height"> {{dispensedPatient?.height}} cm </div>
                                 </li>
                                 <li>
                                    <div class="strong"> {{DischargeDate | date: 'dd/MMM/yyyy'}}</div>
                                 </li>
                              </ul>
                              <ul class="padview-patient">
                                 <li class="img-patient">
                                    <img src="{{pateintPicPath}}{{dispensedPatient?.pateintPic}}" class="img-responsive" *ngIf="dispensedPatient?.pateintPic" />
                                    <img src="./assets/imgs/no-person.jpg" class="img-responsive" *ngIf="!dispensedPatient.pateintPic" />
                                 </li>
                                 <li *ngIf="preConditionComplete==true && finalPreConditions?.length>0">
                                    <div class="pat-heading"><span id="translated_PreCondHeading"> Existing health status </span> </div>
                                    <ul class="pat-type">
                                       <li *ngFor="let data of finalPreConditions"> {{data}} </li>
                                    </ul>
                                 </li>
                                 <li *ngIf="bodyIndicatorComplete==true && bodyIndicatorSelected?.length>0">
                                    <div class="pat-heading"><span id="translated_BIHeading"> Body Indicators</span> </div>
                                    <ul class="pat-type">
                                       <li *ngFor="let data of bodyIndicatorSelected"> {{data}}
                                       </li>
                                    </ul>
                                 </li>
                                 <li *ngIf="finalAllergy?.length>0">
                                    <div class="pat-heading"><span id="translated_allergyHeading"> Allergy</span> </div>
                                    <ul class=" pat-type" style="padding-left:15px">
                                       <li *ngFor="let data of finalAllergy"> {{data}} </li>
                                    </ul>
                                 </li>
                              </ul>
                              <div class="middle-body">
                                 <div class="">
                                    <div class="number-div" *ngIf="findingsSelected?.length>0">
                                       <div class="pat-heading"><span id="translated_PTHeading"> Patient's Complaints</span> </div>
                                       <ul class="numberol">
                                          <li *ngFor="let data of findingsSelected"> {{data.value}} </li>
                                       </ul>
                                    </div>
                                    <div class="number-div" *ngIf="symptomsComplete==true && symptomsSelected?.length>0">
                                       <div class="pat-heading"><span id="translated_sympHeading"> Symptoms</span> </div>
                                       <ul class="numberol">
                                          <li *ngFor="let data of symptomsSelected"> {{data.value}} </li>
                                       </ul>
                                    </div>
                                    <div class="number-div" *ngIf="diagnosisComplete==true && diagnosisSelected?.length>0">
                                       <div class="pat-heading"><span id="translated_diagnosisHeading"> Diagnosis</span> </div>
                                       <ul class="numberol">
                                          <li *ngFor="let data of diagnosisSelected">{{data.value}}</li>
                                       </ul>
                                    </div>
                                 </div>
                                 <div class="" *ngIf="medicationComplete==true">
                                    <div class="padview-medic" id="translated_medication">
                                       <div class="pat-heading"><span> Medicines</span> </div>
                                       <ol style="padding-left:10px">
                                          <li *ngFor="let data of tempMedicationArray">
                                             <span *ngIf="data?.name=='Tablet' || data?.name=='Capsule' || data?.name=='Cream' || data?.name=='Ointment' || data?.name=='Aerosols' || data?.name=='Powder' || data?.name=='MouthWash'">
                                                {{data?.short_name}}<b class="notranslate"> {{data?.med_name[0].value}} </b>-{{data.frequency}} <span class="notranslate"> X </span> {{data?.duration}} days <span *ngIf="data?.specialInstruction!=null"> ({{data?.specialInstruction}})</span>
                                                <span *ngIf="data?.med_info">
                                                   <p class="help-note" *ngIf="data?.med_info?.length>0">({{data?.med_info[0]?.value}}<span *ngIf="data?.med_info?.length>1"> / {{data?.med_info[1]?.value}}</span>)</p>
                                                </span>
                                             </span>
                                             <span *ngIf="data?.name=='Syrup' || data?.name=='Suspension' || data?.name=='Emulsion' || data?.name=='Solution'">
                                                {{data?.short_name}}<b class="notranslate"> {{data?.med_name[0].value}} </b>- {{data?.dosage}}ml <span class="notranslate"> X </span> {{data?.frequency}} <span class="notranslate"> X </span> {{data?.duration}} days <span *ngIf="data?.specialInstruction!=null"> ({{data?.specialInstruction}})</span>
                                                <span *ngIf="data.med_info">
                                                   <p class="help-note" *ngIf="data?.med_info?.length>0">({{data?.med_info[0]?.value}}<span *ngIf="data?.med_info?.length>1"> / {{data?.med_info[1]?.value}}</span>)</p>
                                                </span>
                                             </span>
                                             <span *ngIf="data?.name=='Injection' || data?.name=='Gel' || data?.name=='Lotion'">
                                                {{data?.short_name}}<b class="notranslate"> {{data?.med_name[0]?.value}} </b><span *ngIf="data?.mode"> ({{data?.mode}}) </span> -{{data?.frequency}} <span class="notranslate"> X </span> {{data?.duration}} days <span *ngIf="data?.specialInstruction!=null"> ({{data?.specialInstruction}})</span><span *ngIf="data?.mode"> ({{data?.mode}}) </span>
                                                <span *ngIf="data?.med_info">
                                                   <p class="help-note" *ngIf="data?.med_info?.length>0">({{data?.med_info[0]?.value}}<span *ngIf="data?.med_info?.length>1"> / {{data?.med_info[1]?.value}}</span>)</p>
                                                </span>
                                             </span>
                                             <span *ngIf="data.name=='Drops'">
                                                {{data?.short_name}}<b class="notranslate"> {{data?.med_name[0]?.value}} </b>-{{data?.quantity}} drops <span class="notranslate"> X </span> {{data?.frequency}} <span class="notranslate"> X </span> {{data?.duration}} days <span *ngIf="data?.specialInstruction!=null"> ({{data?.specialInstruction}})</span>
                                                <span *ngIf="data?.med_info">
                                                   <p class="help-note" *ngIf="data?.med_info?.length>0">({{data?.med_info[0]?.value}}<span *ngIf="data?.med_info?.length>1"> / {{data?.med_info[1]?.value}}</span>)</p>
                                                </span>
                                             </span>
                                          </li>
                                       </ol>
                                    </div>
                                    <div class="number-div vac-div">
                                       <div *ngIf="finalCurrentVaccinationArray?.length>0 || finalDueVaccinationArray?.length>0">
                                          <div class="pat-heading" id="translated_VaccinationHeading"> <span> Vaccination</span> </div>
                                          <ul *ngIf="finalCurrentVaccinationArray?.length>0" class="medicationol">
                                             <div><b>Current</b></div>
                                             <li *ngFor="let data of finalCurrentVaccinationArray">{{data}}</li>
                                          </ul>
                                          <ul *ngIf="finalDueVaccinationArray?.length>0" class="medicationol">
                                             <strong>Due </strong>
                                             <!-- <span *ngIf="finalDueVaccinationArray.length>0"><strong>Due </strong>({{vaccinationDate.toString().substr(4,11)}}) -->
                                                <!-- </span> -->
                                                <li *ngFor="let data of finalDueVaccinationArray">{{data}}</li>
                                             </ul>
                                          </div>
                                          <div class="" *ngIf="instructionsComplete==true && instructionsSelected.length>0" id="translated_instHeading">
                                             <div class="pat-heading"> <span> Instructions</span> </div>
                                             <ul class="numberol" start="1">
                                                <li *ngFor="let data of instructionsSelected">{{data}}</li>
                                             </ul>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                                 <div class="third-body">
                                    <div class="number-div" *ngIf="investigationIndicatorComplete==true && investigationArray?.length">
                                       <div class="pat-heading"> <span id="translated_invHeading"> Investigation</span> </div>
                                       <ol class="numberol pl10">
                                          <li *ngFor="let data of investigationArray">
                                             <span *ngIf="data?.name != 'Mammography' && data?.name!= 'Uroflowmetry' && data?.name != 'ECG' && data?.name != 'EEG' && data?.name != 'TMT' && data?.name != 'Echo'">
                                                <span *ngIf="data?.name!='Others'">{{data?.name}} - </span><span *ngFor="let value of data.values;let i = index">{{value?.value}} 
                                                   <span *ngIf="i!=data?.values?.length-1">\</span>
                                                </span>
                                             </span>
                                             <span *ngIf="data?.name == 'Mammography' || data?.name== 'Uroflowmetry' || data?.name == 'ECG' || data?.name == 'EEG' || data?.name == 'TMT' || data?.name == 'Echo'">
                                                <span *ngIf="data?.name!='Others'">{{data?.name}} - </span> {{data?.values}}
                                             </span>
                                          </li>
                                       </ol>
                                    </div>
                                    <div class="number-div" *ngIf="treatmentComplete==true" id="translated_OTHeading">
                                       <div class="pat-heading"> <span> Other Treatments</span> </div>
                                       <ul class="numberol">
                                          <li *ngFor="let data of treatmentArray;let i =index">
                                             <span *ngIf="data?.name=='Lifestyle Changes'">
                                                {{data?.name}} - <span *ngFor="let value of data?.lifestyle;let j = index">{{value?.value}} <span *ngIf="j!=data?.lifestyle?.length-1">\</span></span>
                                             </span>
                                             <span *ngIf="data?.name=='Physiotherapy' || data?.name=='Fomentation'">
                                                {{data?.name}} - {{data?.Frequency}} for {{data?.Duration}} days <span *ngIf="data?.SpecialInstruction!=null"> ({{data?.SpecialInstruction}})</span>
                                             </span>
                                             <span *ngIf="data?.name=='Plaster'">
                                                <span class="notranslate">{{data?.name}}</span> - on <span class="notranslate">{{data?.Injury_Area}}</span> of {{data?.plaster_type}} for {{data?.Duration}} days
                                             </span>
                                             <span *ngIf="data?.name=='Gargle' || data?.name=='Dressing' || data?.name=='Bandage' || data?.name=='Other'">
                                                <span *ngIf="data?.name!='Other'">{{data?.name}} - </span>{{data?.med_name[0]?.value}} {{data?.Frequency}} for {{data?.Duration}} days <span *ngIf="data?.SpecialInstruction!=null"> ({{data?.SpecialInstruction}})</span>
                                             </span>
                                             <span>
                                                {{data?.value}}
                                             </span>
                                          </li>
                                       </ul>
                                    </div>
                                 </div>
                                 <div class="note-box">
                                    <div class="note-innerbox">
                                       <div class="note-innerdiv">
                                          <div class="number-div" *ngIf="surgeryComplete==true && surgerySelectedArray?.length>0">
                                             <div class="pat-heading"> <span id="translated_surgHeading"> Recommended Surgery</span> </div>
                                             <ul class="numberol">
                                                <li *ngFor="let data of surgerySelectedArray">{{data?.sub_speciality | titlecase}} - {{data?.procedure_name[0]?.value}}</li>
                                             </ul>
                                          </div>
                                          <div class="number-div" *ngIf="referDoctorName?.first_name"  style="padding:0 30px;">
                                             <div class="pat-heading"> <span> Referred To</span> </div>
                                             <p> {{referDoctorName?.first_name}} </p>
                                          </div>
                                       </div>
                                    </div>
                                    <div class="" *ngIf="eyePresComplete==true">
                                       <div class="pat-heading"> <span id="translated_eyeHeading"> Eye Prescription</span> </div>
                                       <div class="table-responsive">
                                          <table class="table table-bordered table-striped cstm-table">
                                             <thead>
                                                <tr>
                                                   <th> Eye </th>
                                                   <th> Sphere </th>
                                                   <th> Cylinder </th>
                                                   <th> Axis </th>
                                                   <th> Add </th>
                                                   <th> PD (mm) </th>
                                                </tr>
                                             </thead>
                                             <tbody>
                                                <tr>
                                                   <td> Right (OD): </td>
                                                   <td> {{finalRightOD.sphere}} </td>
                                                   <td> {{finalRightOD.cylinder}} </td>
                                                   <td> {{finalRightOD.axis}} </td>
                                                   <td> {{finalRightOD.add}} </td>
                                                   <td> {{finalRightOD.pd}} </td>
                                                </tr>
                                                <tr>
                                                   <td> Left (OS): </td>
                                                   <td> {{finalLeftOD.sphere}} </td>
                                                   <td> {{finalLeftOD.cylinder}} </td>
                                                   <td> {{finalLeftOD.axis}} </td>
                                                   <td> {{finalLeftOD.add}} </td>
                                                   <td> {{finalLeftOD.pd}} </td>
                                                </tr>
                                             </tbody>
                                          </table>
                                       </div>
                                    </div>
                                 </div>
                                 <div class="third-body">
                                    <div class="number-div" *ngIf="followDaysComplete == true">
                                       <div class="pat-heading"> <span> Follow-Up</span></div>
                                       <p> Please come again after {{finalfollowUpDays}} days for consultation </p>
                                       <p class="small"> On {{followUpDay}} {{followUpMonth}} , {{followUpYear}}</p>
                                    </div>
                                 </div>
                                 <div class="forth-body">
                                    <div class="padview-confee" *ngIf="checkOptionOfPad('Consultation_duration')">
                                       <div class="cons-time">Consultation Duration: {{minutes}} min {{seconds}} sec </div>
                                    </div>
                                    <div class="signature" *ngIf="checkOptionOfPad('Signature')">(Signature)</div>
                                 </div>
                              </div>
                           </div>
                        </div>
                        <div class="padview-footer" *ngIf="checkOptionOfPad('Footer_note')">
                           <div class="col-md-12 col-sm-12 col-xs-12">
                              <div class="padview-powered">
                                 <div style="float:left; color:#ccc;">Powered by doctm</div>
                                 <div style="float:right; color:#ccc;">For prescription visit www.mydoctm.com</div>
                              </div>
                           </div>
                           <div class="col-md-12 col-sm-4 col-xs-12" id="translated_footer">
                              <div class="legal">
                                 <h3>{{getFooterText()}}</h3>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
   <div class="modal fade cus-preview" id="previewModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
      <div class="modal-dialog" role="document">
         <div class="modal-content show-default">
            <div class="modal-header">
               <div>
                  <h4 class="modal-title"> Preview </h4>
               </div>
               <div class="text-center">
                  <button type="button" class="btn-sm btn btn-custom" (click)="createPdf()"> Print </button>
               </div>
               <div>
                  <button type="button" class="pull-right btn-sm btn btn-custom btn-outline" data-dismiss="modal" aria-label="Close"> Close </button>
               </div>
            </div>
            <div class="modal-body">
               <div class="row">
                  <div class="presc-modal-body">
                     <div class="pad-view">
                        <div class="padview-header">
                           <div class="pad-view-flx col-lg-4">
                              <div class="form-group doctor-name" *ngIf="checkOptionOfPad('Doctor_name')">
                                 <h1 id="translated_doctorName"> Dr<span class="notranslate">.</span> {{doctorData.first_name}} </h1>
                              </div>
                              <div class="form-group qual">
                                 <p class="color-purple">
                                    <span *ngIf="checkOptionOfPad('Specialization')">({{doctorData.specialization}})</span>
                                    <br>
                                    <span *ngIf="checkOptionOfPad('Qualifications')">
                                       <span *ngFor="let data of doctorData.qualification;let i = index">
                                          {{data.value}} <span *ngIf="i!=doctorData.qualification.length-1">,</span>
                                       </span>
                                    </span>
                                 </p>
                                 <p *ngIf="checkOptionOfPad('registration_no')"> Registration: <span class="color-purple"> {{doctorData.registration_no}} </span> </p>
                                 <p *ngIf="checkOptionOfPad('Professional_affiliation')">
                                    <span class="color-purple" *ngFor="let pa of doctorData.professional_affiliation;let i=index">
                                       {{pa.value}}<span *ngIf="i!=doctorData.professional_affiliation.length-1">,</span>
                                    </span>
                                 </p>
                              </div>
                           </div>
                           <div class="pad-view-flx col-lg-8">
                              <ul class="clinic-detail">
                                 <li class="clinic-name" *ngIf="checkOptionOfPad('Clinic_name')">
                                    <h1 id="translated_clinicName"> {{doctorsDetails.clinic_details.clinic_name}} </h1>
                                 </li>
                                 <li *ngIf="doctorsDetails.clinic_details.address">{{doctorsDetails.clinic_details.address}}, {{doctorsDetails.clinic_details.area}}, {{doctorsDetails.clinic_details.city}}, {{doctorsDetails.clinic_details.state}}</li>
                                 <li class="li-cstm">
                                    <div class="row" *ngIf="doctorsDetails.clinic_details.landline || doctorsDetails.clinic_details.mobile">
                                       <div class="col-lg-12">
                                          <h4 class="for-apt"> For appointments </h4>
                                          <p *ngIf="doctorsDetails.clinic_details.landline"> Tel: {{doctorsDetails.clinic_details.std_code}}-{{doctorsDetails.clinic_details.landline}}</p>
                                          <p> Mb: +91-{{doctorsDetails.clinic_details.mobile}} </p>
                                       </div>
                                    </div>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <p class="text-center">
                           <label id="translated_appointmentText"> {{getHeaderText()}} </label>
                        </p>
                        <div class="padview-body">
                           <div class="col-md-2 col-sm-2 col-xs- p-0">
                              <div class="emergency-wrap">
                                 <div class="form-group emrgency-consult" *ngIf="dispensedPatient.type=='Emergency'">
                                    <p class="small" id="translated_emergencyText"><i> Emergency Consultation </i> </p>
                                 </div>
                                 <div class="form-group schdl" *ngIf="checkOptionOfPad('Clinic_schedule')">
                                    <h5 class="color-blue"> Schedule: </h5>
                                    <div class="form-group span-txt" *ngFor="let shift of allShifts">
                                       <span><strong style="display:block; width:110px;"> {{shift.day}}: </strong>
                                          <span class="mrgin-r" *ngFor="let time of shift.shifts"> 
                                             [
                                             <span *ngIf="time.fromTime.hour=='0'">{{time.fromTime.hour}}0:</span>
                                             <span *ngIf="time.fromTime.hour!='0'">{{time.fromTime.hour}}:</span>
                                             <span *ngIf="time.fromTime.minute=='0'">{{time.fromTime.minute}}0 –</span>
                                             <span *ngIf="time.fromTime.minute!='0'">{{time.fromTime.minute}} –</span>
                                             <span *ngIf="time.toTime.hour=='0'">{{time.toTime.hour}}0:</span>
                                             <span *ngIf="time.toTime.hour!='0'">{{time.toTime.hour}}:</span>
                                             <span *ngIf="time.toTime.minute=='0'">{{time.toTime.minute}}0</span>
                                             <span *ngIf="time.toTime.minute!='0'">{{time.toTime.minute}}</span> ]
                                          </span>
                                          <br>
                                       </span>
                                    </div>
                                    <div class="form-group" *ngFor="let shift of allShiftsClosed">
                                       <span><strong> {{shift.day}}: </strong> Closed 
                                       </span>
                                    </div>
                                 </div>
                                 <div id="translated_treatmentText" *ngIf="checkOptionOfPad('Available_treatments')">
                                    <h5 class="color-blue"> Available Treatments: </h5>
                                    <ul style="padding-left:15px!important;">
                                       <li *ngFor="let treat of doctorData.expertise">{{treat.value}}</li>
                                    </ul>
                                 </div>
                                 <div *ngIf="doctorData.clinic_services_status=='Yes' && checkOptionOfPad('Available_services')" id="translated_servicesText">
                                    <h5 class="color-blue"> Available Services: </h5>
                                    <ul style="padding-left:15px!important;">
                                       <li *ngIf="doctorData.clinic_services.Clinic_Pharmacy">Pharmacy</li>
                                       <li *ngIf="doctorData.clinic_services.Clinic_IPD">IPD</li>
                                       <li *ngFor="let cs of doctorData.clinic_services.ClinicServicesDetail"> {{cs}} </li>
                                       <li *ngFor="let cs of doctorData.clinic_services.OtherClinicService"> {{cs.value}} </li>
                                    </ul>
                                 </div>
                              </div>
                           </div>
                           <div class="col-md-10 col-sm-10 col-xs-10 p-0" style="font-size: 10px;">
                              <div class="padview-bodyright">
                                 <ul class="padview-body-header">
                                    <li>
                                       <div class="text-underline"> Prescription ID </div>
                                       <div class="strong">{{prescription_id}}</div>
                                    </li>
                                    <li>
                                       <div class="text-underline"> Name </div>
                                       <div class="strong"> {{dispensedPatient?.pateintName | uppercase}} </div>
                                    </li>
                                    <li>
                                       <div class="text-underline"> Age/Sex </div>
                                       <div class="strong"> {{dispensedPatient?.age}} / {{dispensedPatient?.gender}} </div>
                                    </li>
                                    <li>
                                       <div class="text-underline"> Weight </div>
                                       <div class="strong" *ngIf="dispensedPatient.weight"> {{dispensedPatient.weight}} Kg </div>
                                    </li>
                                    <li>
                                       <div class="text-underline"> Height </div>
                                       <div class="strong" *ngIf="dispensedPatient.height"> {{dispensedPatient.height}} cm </div>
                                    </li>
                                    <li>
                                       <div class="strong"> {{DischargeDate | date: 'dd/MMM/yyyy'}}</div>
                                    </li>
                                 </ul>
                                 <ul class="padview-patient">
                                    <li class="img-patient">
                                       <img src="{{pateintPicPath}}{{dispensedPatient.pateintPic}}" class="img-responsive" *ngIf="dispensedPatient.pateintPic" />
                                       <img src="./assets/imgs/no-person.jpg" class="img-responsive" *ngIf="!dispensedPatient.pateintPic" />
                                    </li>
                                    <li *ngIf="preConditionComplete==true && finalPreConditions?.length>0">
                                       <div class="pat-heading"><span id="translated_PreCondHeading"> Existing health status </span> </div>
                                       <ul class="pat-type">
                                          <li *ngFor="let data of finalPreConditions"> {{data}} </li>
                                       </ul>
                                    </li>
                                    <li *ngIf="bodyIndicatorComplete==true && bodyIndicatorSelected?.length>0">
                                       <div class="pat-heading"><span id="translated_BIHeading"> Body Indicators</span> </div>
                                       <ul class="pat-type">
                                          <li *ngFor="let data of bodyIndicatorSelected"> {{data}}
                                          </li>
                                       </ul>
                                    </li>
                                    <li *ngIf="finalAllergy?.length>0">
                                       <div class="pat-heading"><span id="translated_allergyHeading"> Allergy</span> </div>
                                       <ul class=" pat-type">
                                          <li *ngFor="let data of finalAllergy"> {{data}} </li>
                                       </ul>
                                    </li>
                                 </ul>
                                 <div class="middle-body">
                                    <div class="">
                                       <div class="number-div" *ngIf="findingsSelected?.length>0">
                                          <div class="pat-heading"><span id="translated_PTHeading"> Patient's Complaints</span> </div>
                                          <ul class="numberol">
                                             <li *ngFor="let data of findingsSelected"> {{data.value}} </li>
                                          </ul>
                                       </div>
                                       <div class="number-div" *ngIf="symptomsComplete==true && symptomsSelected?.length>0">
                                          <div class="pat-heading"><span id="translated_sympHeading"> Symptoms</span> </div>
                                          <ul class="numberol">
                                             <li *ngFor="let data of symptomsSelected"> {{data.value}} </li>
                                          </ul>
                                       </div>
                                       <div class="number-div" *ngIf="diagnosisComplete==true && diagnosisSelected?.length>0">
                                          <div class="pat-heading"><span id="translated_diagnosisHeading"> Diagnosis</span> </div>
                                          <ul class="numberol">
                                             <li *ngFor="let data of diagnosisSelected">{{data.value}}</li>
                                          </ul>
                                       </div>
                                    </div>
                                    <div class="" *ngIf="medicationComplete==true">
                                       <div class="padview-medic" id="translated_medication">
                                          <div class="pat-heading"><span> Medicines</span> </div>
                                          <ol style="padding-left:10px">
                                             <li *ngFor="let data of tempMedicationArray">
                                                <span *ngIf="data.name=='Tablet' || data.name=='Capsule' || data.name=='Cream' || data.name=='Ointment' || data.name=='Aerosols' || data.name=='Powder' || data.name=='MouthWash'">
                                                   {{data.short_name}}<b class="notranslate"> {{data.med_name[0].value}} </b>-{{data.frequency}} <span class="notranslate"> X </span> {{data.duration}} days <span *ngIf="data.specialInstruction!=null"> ({{data.specialInstruction}})</span>
                                                   <span *ngIf="data.med_info">
                                                      <p class="help-note" *ngIf="data.med_info?.length>0">({{data.med_info[0].value}}<span *ngIf="data.med_info?.length>1"> / {{data.med_info[1].value}}</span>)</p>
                                                   </span>
                                                </span>
                                                <span *ngIf="data.name=='Syrup' || data.name=='Suspension' || data.name=='Emulsion' || data.name=='Solution'">
                                                   {{data.short_name}}<b class="notranslate"> {{data.med_name[0].value}} </b>- {{data.dosage}}ml <span class="notranslate"> X </span> {{data.frequency}} <span class="notranslate"> X </span> {{data.duration}} days <span *ngIf="data.specialInstruction!=null"> ({{data.specialInstruction}})</span>
                                                   <span *ngIf="data.med_info">
                                                      <p class="help-note" *ngIf="data.med_info?.length>0">({{data.med_info[0].value}}<span *ngIf="data.med_info?.length>1"> / {{data.med_info[1].value}}</span>)</p>
                                                   </span>
                                                </span>
                                                <span *ngIf="data.name=='Injection' || data.name=='Gel' || data.name=='Lotion'">
                                                   {{data.short_name}}<b class="notranslate"> {{data.med_name[0].value}} </b><span *ngIf="data.mode"> ({{data.mode}}) </span> -{{data.frequency}} <span class="notranslate"> X </span> {{data.duration}} days <span *ngIf="data.specialInstruction!=null"> ({{data.specialInstruction}})</span><span *ngIf="data.mode"> ({{data.mode}}) </span>
                                                   <span *ngIf="data.med_info">
                                                      <p class="help-note" *ngIf="data.med_info?.length>0">({{data.med_info[0].value}}<span *ngIf="data.med_info?.length>1"> / {{data.med_info[1].value}}</span>)</p>
                                                   </span>
                                                </span>
                                                <span *ngIf="data.name=='Drops'">
                                                   {{data.short_name}}<b class="notranslate"> {{data.med_name[0].value}} </b>-{{data.quantity}} drops <span class="notranslate"> X </span> {{data.frequency}} <span class="notranslate"> X </span> {{data.duration}} days <span *ngIf="data.specialInstruction!=null"> ({{data.specialInstruction}})</span>
                                                   <span *ngIf="data.med_info">
                                                      <p class="help-note" *ngIf="data.med_info?.length>0">({{data.med_info[0].value}}<span *ngIf="data.med_info?.length>1"> / {{data.med_info[1].value}}</span>)</p>
                                                   </span>
                                                </span>
                                             </li>
                                          </ol>
                                       </div>
                                       <div class="number-div vac-div">
                                          <div *ngIf="finalCurrentVaccinationArray?.length>0 || finalDueVaccinationArray?.length>0">
                                             <div class="pat-heading" id="translated_VaccinationHeading"> <span> Vaccination</span> </div>
                                             <ul *ngIf="finalCurrentVaccinationArray?.length>0" class="medicationol">
                                                <div><b>Current</b></div>
                                                <li *ngFor="let data of finalCurrentVaccinationArray">{{data}}</li>
                                             </ul>
                                             <ul *ngIf="finalDueVaccinationArray?.length>0" class="medicationol">
                                                <strong>Due </strong>
                                                <!-- <span *ngIf="finalDueVaccinationArray.length>0"><strong>Due </strong>({{vaccinationDate.toString().substr(4,11)}}) -->
                                                   <!-- </span> -->
                                                   <li *ngFor="let data of finalDueVaccinationArray">{{data}}</li>
                                                </ul>
                                             </div>
                                             <div class="" *ngIf="instructionsComplete==true && instructionsSelected?.length>0" id="translated_instHeading">
                                                <div class="pat-heading"> <span> Instructions</span> </div>
                                                <ul class="numberol" start="1">
                                                   <li *ngFor="let data of instructionsSelected">{{data}}</li>
                                                </ul>
                                             </div>
                                          </div>
                                       </div>
                                    </div>
                                    <div class="third-body">
                                       <div class="number-div" *ngIf="investigationIndicatorComplete==true && investigationArray?.length">
                                          <div class="pat-heading"> <span id="translated_invHeading"> Investigation</span> </div>
                                          <ol class="numberol pl10">
                                             <li *ngFor="let data of investigationArray">
                                                <span *ngIf="data.name != 'Mammography' && data.name!= 'Uroflowmetry' && data.name != 'ECG' && data.name != 'EEG' && data.name != 'TMT' && data.name != 'Echo'">
                                                   <span *ngIf="data.name!='Others'">{{data.name}} - </span><span *ngFor="let value of data.values;let i = index">{{value.value}} 
                                                      <span *ngIf="i!=data.values?.length-1">\</span>
                                                   </span>
                                                </span>
                                                <span *ngIf="data.name == 'Mammography' || data.name== 'Uroflowmetry' || data.name == 'ECG' || data.name == 'EEG' || data.name == 'TMT' || data.name == 'Echo'">
                                                   <span *ngIf="data.name!='Others'">{{data.name}} - </span> {{data.values}}
                                                </span>
                                             </li>
                                          </ol>
                                       </div>
                                       <div class="number-div" *ngIf="treatmentComplete==true" id="translated_OTHeading">
                                          <div class="pat-heading"> <span> Other Treatments</span> </div>
                                          <ul class="numberol">
                                             <li *ngFor="let data of treatmentArray;let i =index">
                                                <span *ngIf="data.name=='Lifestyle Changes'">
                                                   {{data.name}} - <span *ngFor="let value of data.lifestyle;let j = index">{{value.value}} <span *ngIf="j!=data.lifestyle?.length-1">\</span></span>
                                                </span>
                                                <span *ngIf="data.name=='Physiotherapy' || data.name=='Fomentation'">
                                                   {{data.name}} - {{data.Frequency}} for {{data.Duration}} days <span *ngIf="data.SpecialInstruction!=null"> ({{data.SpecialInstruction}})</span>
                                                </span>
                                                <span *ngIf="data.name=='Plaster'">
                                                   <span class="notranslate">{{data.name}}</span> - on <span class="notranslate">{{data.Injury_Area}}</span> of {{data.plaster_type}} for {{data.Duration}} days
                                                </span>
                                                <span *ngIf="data.name=='Gargle' || data.name=='Dressing' || data.name=='Bandage' || data.name=='Other'">
                                                   <span *ngIf="data.name!='Other'">{{data.name}} - </span>{{data.med_name[0].value}} {{data.Frequency}} for {{data.Duration}} days <span *ngIf="data.SpecialInstruction!=null"> ({{data.SpecialInstruction}})</span>
                                                </span>
                                                <span>
                                                   {{data.value}}
                                                </span>
                                             </li>
                                          </ul>
                                       </div>
                                    </div>
                                    <div class="note-box">
                                       <div class="note-innerbox">
                                          <div class="note-innerdiv">
                                             <div class="number-div" *ngIf="surgeryComplete==true && surgerySelectedArray?.length>0">
                                                <div class="pat-heading"> <span id="translated_surgHeading"> Recommended Surgery</span> </div>
                                                <ul class="numberol">
                                                   <li *ngFor="let data of surgerySelectedArray">{{data.sub_speciality | titlecase}} - {{data.procedure_name[0].value}}</li>
                                                </ul>
                                             </div>
                                             <div class="number-div" *ngIf="referDoctorName?.first_name" style="padding:0 30px;">
                                                <div class="pat-heading"> <span> Referred To</span> </div>
                                                <p> {{referDoctorName?.first_name}} </p>
                                             </div>
                                          </div>
                                       </div>
                                       <div class="" *ngIf="eyePresComplete==true">
                                          <div class="pat-heading"> <span id="translated_eyeHeading"> Eye Prescription</span> </div>
                                          <div class="table-responsive">
                                             <table class="table table-bordered table-striped cstm-table">
                                                <thead>
                                                   <tr>
                                                      <th> Eye </th>
                                                      <th> Sphere </th>
                                                      <th> Cylinder </th>
                                                      <th> Axis </th>
                                                      <th> Add </th>
                                                      <th> PD (mm) </th>
                                                   </tr>
                                                </thead>
                                                <tbody>
                                                   <tr>
                                                      <td> Right (OD): </td>
                                                      <td> {{finalRightOD.sphere}} </td>
                                                      <td> {{finalRightOD.cylinder}} </td>
                                                      <td> {{finalRightOD.axis}} </td>
                                                      <td> {{finalRightOD.add}} </td>
                                                      <td> {{finalRightOD.pd}} </td>
                                                   </tr>
                                                   <tr>
                                                      <td> Left (OS): </td>
                                                      <td> {{finalLeftOD.sphere}} </td>
                                                      <td> {{finalLeftOD.cylinder}} </td>
                                                      <td> {{finalLeftOD.axis}} </td>
                                                      <td> {{finalLeftOD.add}} </td>
                                                      <td> {{finalLeftOD.pd}} </td>
                                                   </tr>
                                                </tbody>
                                             </table>
                                          </div>
                                       </div>
                                    </div>
                                    <div class="third-body">
                                       <div class="number-div" *ngIf="followDaysComplete == true">
                                          <div class="pat-heading"> <span> Follow Up</span></div>
                                          <p> Please come again after {{finalfollowUpDays}} days for consultation </p>
                                          <p class="small"> On {{followUpDay}} {{followUpMonth}} , {{followUpYear}}</p>
                                       </div>
                                    </div>
                                    <div class="forth-body">
                                       <div class="padview-confee" *ngIf="checkOptionOfPad('Consultation_duration')">
                                          <div class="cons-time">Consultation Duration: {{minutes}} min {{seconds}} sec </div>
                                       </div>
                                       <div class="signature" *ngIf="checkOptionOfPad('Signature')">(Signature)</div>
                                    </div>
                                 </div>
                              </div>
                           </div>
                           <div class="padview-footer" *ngIf="checkOptionOfPad('Footer_note')">
                              <div class="col-md-12 col-sm-12 col-xs-12">
                                 <div class="padview-powered">
                                    <div style="float:left; color:#ccc;">Powered by doctm</div>
                                    <div style="float:right; color:#ccc;">For prescription visit www.mydoctm.com </div>
                                 </div>
                              </div>
                              <div class="col-md-12 col-sm-4 col-xs-12" id="translated_footer">
                                 <div class="legal">
                                    <h3>{{getFooterText()}}</h3>
                                 </div>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>


      <div class="modal fade cus-preview" id="uploadedPrescriptionModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" *ngIf="dispensedPatientSelected">
        <div class="modal-dialog" role="document">
          <div class="modal-content modal-lg">
            <div class="modal-header">
               <div>

                 <div class="col-lg-4">
                    <h3 class="modal-title">Prescription</h3>

                 </div>
                 <div class="col-lg-4 text-center">
                  <button type="button" class="btn-sm btn btn-custom" (click)="printImage()"> Print </button>
               </div>
               <div class="col-lg-4">
                  <button type="button" class="pull-right btn-sm btn btn-custom btn-outline" data-dismiss="modal" aria-label="Close"> Close </button>
               </div>

               <div class="modal-body" id="previewModalImage">
                 <div class="">
                  <div class="col-lg-12 text-center">
                     <div class="">

                        <img style="object-fit: contain;" src="{{uploadedPrescriptionPath}}{{dispensedPatientSelected.image}}">
                     </div>
                  </div>
               </div>
            </div>

         </div>
      </div>
   </div>
</div>
</div>

<div class="custom-modal">
   <div class="custom-modal-inner">
      <div class="col-lg-4">
      <h3 class="modal-title">Prescription</h3>
   </div>
   <div class="col-lg-4 text-center">
                  <button type="button" class="btn-sm btn btn-custom" (click)="printImage()"> Print </button>
               </div>
   <div class="col-lg-4">
      <button type="button" style="margin-bottom:15px;" class="pull-right btn-sm btn btn-custom btn-outline btn_updte dlt" data-dismiss="modal" aria-label="Close"> Close </button>
      </div>
      <!-- <i class="fa fa-times dlt"></i> -->
      <img class='zoom' id="previewModalImage" src="{{uploadedPrescriptionPath}}{{dispensedPatientSelected?.image}}" alt='Daisy!'/>
   </div>

</div>

<!-- <button class="kk">kk</button> -->