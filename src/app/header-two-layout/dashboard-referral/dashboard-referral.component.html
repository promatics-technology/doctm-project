<div class="loader-box" *ngIf="loading">
  <img src="./assets/imgs/load.gif" />
</div>
<div class="referral-sec">

	<!-- <div class="form-group col-md-12 col-sm-12 col-xs-12 text-right">
		<button data-toggle="modal" data-target="#refModal" class="btn btn-custom"> <i class="fa fa-envelope"></i> Send Referral </button>
	</div>	 -->

	<div class="md-tab inbox-tabs">
   <!-- Nav tabs -->
   <ul class="nav nav-tabs" role="tablist">
     <li role="presentation" class="active"><a href="#inbox" aria-controls="inbox" role="tab" data-toggle="tab"> Inbox ({{dataReferralFrom?.length}}) </a></li>
     <li role="presentation"><a href="#outbox" aria-controls="outbox" role="tab" data-toggle="tab"> Outbox ({{dataReferralTo?.length}}) </a></li>
   </ul>

   <!-- Tab panes -->
   <div class="tab-content">
     <div role="tabpanel" class="tab-pane active" id="inbox">
       <div class="col-md-12 col-sm-12 col-xs-12 table-responsive p-0">
         <table class="table table-striped">
          <thead>
           <tr>
            <th> # </th>
            <th> Date of Referral </th>
            <th> Referring Doctor </th>
            <th> Patient Name </th>
            <th> Action </th>
          </tr>
        </thead>
        <tbody>
         <tr *ngFor="let data of dataReferralFrom;let i = index;">
          <td> {{i+1}} </td>
          <td> {{data?.createdAt | date: 'dd/MM/yyyy'}} </td>
          <td> {{data?.by_doctor_id?.first_name  | uppercase}} </td>
          <td> {{data?.patient_name | uppercase}} </td>
          <td>
           <!-- <a data-toggle="modal" data-target="#viewPre" title="View" href="javascript:void(0)"> <i class="fa fa-eye" (click)=" (data,0)"></i> </a> -->
           <button class="btn btn-success btn-xs" data-toggle="modal" data-target="#viewPre1" title="View" (click)="viewPopup(data,0)">View</button>&nbsp;
           <a href="javascript:void(0)" (click)="deleteReferral(data)"> <i class="fa fa-trash fa-lg"></i> </a>
         </td>
       </tr>
     </tbody>
   </table>
 </div>

</div>
<div role="tabpanel" class="tab-pane" id="outbox">
  <div class="col-md-12 col-sm-12 col-xs-12 table-responsive p-0">
   <table class="table table-striped">
    <thead>
     <tr>
      <th> # </th>
      <th> Date of Referral </th>
      <th> Referred Doctor </th>
      <th> Patient Name </th>
      <th> Action </th>
    </tr>
  </thead>
  <tbody>
   <tr *ngFor="let data of dataReferralTo;let i = index;">
    <td> {{i+1}} </td>
    <td> {{data.createdAt | date: 'dd/MM/yyyy'}} </td>
    <td> {{data.name | uppercase}} </td>
    <td> {{data.patient_name | uppercase}} </td>
    <td>
     <!-- <a data-toggle="modal" data-target="#viewPre" title="View" href="javascript:void(0)"> <i class="fa fa-eye" (click)="viewPopup(data,1)"></i> </a> -->
     <button class="btn btn-success btn-xs" data-toggle="modal" data-target="#viewPre" title="View" (click)="viewPopup(data,1)">View</button>&nbsp;
     <a  href="javascript:void(0)" (click)="deleteReferral(data)"> <i class="fa fa-trash fa-lg"></i> </a>
   </td>
 </tr>
</tbody>
</table>
</div>
</div>

</div>

</div>

</div>


<!-- Modal -->
<div class="modal fade referral-modal" id="refModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
 <div class="modal-dialog" role="document">
   <div class="modal-content">
    <div class="modal-header">
     <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
     <h4 class="modal-title"> Send referral for patient </h4>
   </div>
   <form [formGroup]="doctorReferForm">
     <div class="modal-body newform-margin">
       <div class="row">
         <div class="form-group col-md-12 col-sm-12 col-xs-12">
          <div class="fieldDesign">
           <input id="field1" type="text" class="form-control txtfield" name="" maxlength="10" minlength="10" pattern="[0-9]+" required="" [(ngModel)]="referDetail.phone" [formControl]="doctorReferForm.controls['phone']" (blur)="findDoctorReferDetail()" />
           <label for="field1" class="labelFloat"> Enter Mobile Number </label>
         </div>
         <p style="color: #FF0000" *ngIf="!doctorReferForm.controls['phone'].valid  && (doctorReferForm.controls['phone'].touched)">Invalid mobile number !!!</p>
       </div>
       <div class="form-group col-md-12 col-sm-12 col-xs-12">
        <div class="fieldDesign">
          <input id="field1" type="text" class="form-control txtfield" name="" required="" [(ngModel)]="referDetail.patient_name" [formControl]="doctorReferForm.controls['patient_name']" />
          <label for="field1" class="labelFloat"> Search Patient </label>
        </div>
        <p style="color: #FF0000" *ngIf="!doctorReferForm.controls['patient_name'].valid  && (doctorReferForm.controls['patient_name'].touched)">Invalid Patient name !!!</p>
      </div>
      <div class="form-group col-md-12 col-sm-12 col-xs-12">
        <div class="fieldDesign">
          <textarea class="form-control txtfield" rows="4" placeholder="" [(ngModel)]="referDetail.note" [formControl]="doctorReferForm.controls['note']"></textarea>
          <label for="field3" class="labelFloat"></label>
        </div>
      </div>

    </div>
  </div>
</form>

<div class="modal-footer">
 <div class="form-group col-md-6 col-sm-6 col-xs-12">
  <button class="full-width btn btn-custom" type="button"> Cancel </button>
</div>
<!-- <button class="full-width btn btn-custom" data-dismiss="modal" type="button" [disabled]="!doctorReferForm.valid" (click)="referToDcotor()"> Refer </button> -->
<div class="form-group col-md-6 col-sm-6 col-xs-12">
  <button class="full-width btn btn-custom" type="button" [disabled]="!doctorReferForm.valid" (click)="referToDcotor()"> Send </button>
</div>

</div>

</div>
</div>
</div>

<!-- Modal -->
<div class="modal fade view-prescription" id="viewPre1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
 <div class="modal-dialog" role="document">
   <div class="modal-content">
    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
    <div class="modal-body">
      <div class="row">
        <div class="view-presc-body" *ngIf="openedPopUp">
          <h4 class="">Patient: {{openedPopUp?.patient_name | uppercase}} </h4>
          <h5> Doctor: {{openedPopUp?.by_doctor_id?.first_name  | uppercase}} </h5>
          <p> <small> <i> Referral Date: {{openedPopUp.createdAt | date: 'dd/MM/yyyy'}} </i> </small> </p>
          <div class="view-presc-text">
           <p> <b> Referral Note: </b> {{openedPopUp.note}} </p>
         </div>
         <div class="row">
          <div class="form-group col-md-6 col-sm-6 col-xs-12">
           <button type="button" class="full-width btn btn-custom" data-dismiss="modal">Close</button>
         </div>
         <div class="form-group col-md-6 col-sm-6 col-xs-12">
          <button type="button" class="full-width btn btn-custom" (click)="openPrescriptionPreview1(dispensedPatient)">View Prescription</button>
        </div>
      </div>
    </div>

  </div>
</div>

</div>
</div>
</div>
<!-- Modal -->
<div class="modal fade view-prescription" id="viewPre" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
 <div class="modal-dialog" role="document">
   <div class="modal-content">
    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
    <div class="modal-body">
      <div class="row">
        <div class="view-presc-body" *ngIf="openedPopUp">
          <h4 class="">Patient: {{openedPopUp?.patient_name | uppercase}} </h4>
          <h5> Doctor: {{openedPopUp?.name  | uppercase}} </h5>
          <p> <small> <i> Referral Date: {{openedPopUp.createdAt | date: 'dd/MM/yyyy'}} </i> </small> </p>
          <div class="view-presc-text">
           <p> <b> Referral Note: </b> {{openedPopUp.note}} </p>
         </div>
         <div class="row">
          <div class="form-group col-md-6 col-sm-6 col-xs-12">
           <button type="button" class="full-width btn btn-custom" data-dismiss="modal">Close</button>
         </div>
         <div class="form-group col-md-6 col-sm-6 col-xs-12">
          <button type="button" class="full-width btn btn-custom" (click)="openPrescriptionPreview(dispensedPatient)">View Prescription</button>
        </div>
      </div>
    </div>

  </div>
</div>

</div>
</div>
</div>


<div class="modal fade cus-preview" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <div>
          <h4 class="modal-title"> Preview </h4>
        </div>
        <div class="text-center">
          <button type="button" class="btn-sm btn btn-custom" (click)="createPdf()"> Print </button>
        </div>
        <div>
          <button type="button" class="pull-right btn-sm btn btn-custom btn-outline" data-dismiss="modal" aria-label="Close"> Close </button>
        </div>
      </div>
      <div class="modal-body" id="previewModalPdf">
        <div class="row">
          <div class="presc-modal-body" *ngIf="dispensedPatient">
            <div class="pad-view">
              <div class="padview-header">
               <div class="pad-view-flx col-lg-4">
                <div class="form-group doctor-name" *ngIf="checkOptionOfPad('Doctor_name')">
                  <h1 id="translated_doctorName"> Dr<span class="notranslate">.</span> {{doctorData?.first_name | uppercase}} </h1>
                </div>
                <div class="form-group qual">
                  <p class="color-purple">
                    <span *ngIf="checkOptionOfPad('Specialization')">({{doctorData.specialization}})</span><br>
                    <span *ngIf="checkOptionOfPad('Qualifications')">
                      <span *ngFor="let data of doctorData.qualification;let i = index">
                       {{data.value}} <span *ngIf="i!=doctorData?.qualification?.length-1">,</span>
                     </span>
                   </span>
                 </p>
                 <p *ngIf="checkOptionOfPad('registration_no')"> Registration: <span class="color-purple"> {{doctorData.registration_no}} </span> </p>
                 <p *ngIf="checkOptionOfPad('Professional_affiliation')">
                  <span class="color-purple" *ngFor="let pa of doctorData.professional_affiliation;let i=index">
                    {{pa.value}}<span *ngIf="i!=doctorData?.professional_affiliation?.length-1">,</span>
                  </span>
                </p>
              </div>
            </div>

            <div class="pad-view-flx col-lg-8">
              <ul class="clinic-detail">
                <li class="clinic-name" *ngIf="checkOptionOfPad('Clinic_name')">
                  <h1 id="translated_clinicName"> {{doctorData.clinic_details.clinic_name}} </h1>
                </li>
                <li *ngIf="checkOptionOfPad('Clinic_address')">{{doctorData.clinic_details.address}}, {{doctorData.clinic_details.area}}, {{doctorData.clinic_details.city}}, {{doctorData.clinic_details.state}}</li>
                <li class="li-cstm">
                  <div class="row" *ngIf="checkOptionOfPad('Appointment_contacts')">
                    <div class="col-lg-12">
                      <h4 class="for-apt"> For appointments </h4>
                      <p *ngIf="doctorData.clinic_details.landline"> Tel: {{doctorData.clinic_details.std_code}}-{{doctorData.clinic_details.landline}}</p>
                      <p> Mb: +91-{{doctorData.clinic_details.mobile}} </p>
                    </div>
                  </div>                                           
                </li>
              </ul>
            </div>

          </div>
          <p class="text-center" *ngIf="checkOptionOfPad('Header_note')">
            <label id="translated_appointmentText"> {{getHeaderText()}} </label>
          </p>
          <div class="padview-body">
            <div class="col-md-2 col-sm-2 col-xs- p-0">
              <div class="emergency-wrap">
                <div class="form-group emrgency-consult" *ngIf="dispensedPatient.type=='Emergency'">
                  <p class="small" id="translated_emergencyText"><i> Emergency Consultation </i> </p>
                </div>
                <div class="form-group schdl" *ngIf="checkOptionOfPad('Clinic_schedule')">
                  <h5 class=" color-blue"> Schedule: </h5>
                  <div class="form-group span-txt" *ngFor="let shift of allShifts"> 
                    <span><strong style="display:block; width:110px;"> {{shift.day}}: </strong>
                      <span class="mrgin-r" *ngFor="let time of shift.shifts"> 
                        [
                        <span *ngIf="time.fromTime.hour=='0'">{{time.fromTime.hour}}0:</span>
                        <span *ngIf="time.fromTime.hour!='0'">{{time.fromTime.hour}}:</span>
                        <span *ngIf="time.fromTime.minute=='0'">{{time.fromTime.minute}}0 –</span>
                        <span *ngIf="time.fromTime.minute!='0'">{{time.fromTime.minute}} –</span>
                        <span *ngIf="time.toTime.hour=='0'">{{time.toTime.hour}}0:</span>
                        <span *ngIf="time.toTime.hour!='0'">{{time.toTime.hour}}:</span>
                        <span *ngIf="time.toTime.minute=='0'">{{time.toTime.minute}}0</span>
                        <span *ngIf="time.toTime.minute!='0'">{{time.toTime.minute}}</span>
                        ]
                      </span>
                      <br>
                    </span>
                  </div>
                  <div class="form-group" *ngFor="let shift of allShiftsClosed"> 
                    <span><strong> {{shift.day}}: </strong> Closed 
                    </span>
                  </div>
                </div>
                <div id="translated_treatmentText" *ngIf="checkOptionOfPad('Available_treatments')">
                  <h5 class="color-blue"> Available Treatments: </h5>
                  <ul style="padding-left:15px!important;">
                    <li *ngFor="let treat of doctorData.expertise">{{treat.value}}</li>
                  </ul>
                </div>
                <div *ngIf="doctorData.clinic_services_status=='Yes' && checkOptionOfPad('Available_services')" id="translated_servicesText">
                  <h5 class="color-blue"> Available Services: </h5>
                  <ul style="padding-left:15px!important;">
                    <li *ngIf="doctorData.clinic_services.Clinic_Pharmacy">Pharmacy</li>
                    <li *ngIf="doctorData.clinic_services.Clinic_IPD">IPD</li>
                    <li *ngFor="let cs of doctorData.clinic_services.ClinicServicesDetail"> {{cs}} </li>
                    <li *ngFor="let cs of doctorData.clinic_services.OtherClinicService"> {{cs.value}} </li>
                  </ul>
                </div>
              </div>

            </div>
            <div class="col-md-10 col-sm-10 col-xs-10 p-0" style="font-size: 10px;">
              <div class="padview-bodyright">
                <ul class="padview-body-header">
                  <li>
                    <div class="text-underline"> Prescription ID </div>
                    <div class="strong">{{prescription_id}}</div>
                  </li>
                  <li>
                    <div class="text-underline"> Name </div>
                    <div class="strong"> {{dispensedPatient.pateintName  | uppercase}} </div>
                  </li>
                  <li>
                    <div class="text-underline"> Age/Sex </div>
                    <div class="strong"> {{dispensedPatient.age}} /  {{dispensedPatient.gender}} </div>
                  </li>
                  <li>
                    <div class="text-underline"> Weight </div>
                    <div class="strong" *ngIf="dispensedPatient.weight"> {{dispensedPatient.weight}} Kg </div>
                  </li>
                  <li>
                    <div class="text-underline"> Height </div>
                    <div class="strong" *ngIf="dispensedPatient.height"> {{dispensedPatient.height}} cm </div>
                  </li>
                  <li>
                    <div class="strong"> {{day}} {{month}} , {{year}}</div>
                  </li>
                </ul>
                <ul class="padview-patient">
                  <li class="img-patient">
                    <img src="{{pateintPicPath}}{{dispensedPatient.pateintPic}}" class="img-responsive" *ngIf="dispensedPatient.pateintPic"/>
                    <img src="./assets/imgs/no-person.jpg" class="img-responsive" *ngIf="!dispensedPatient.pateintPic"/>
                  </li>
                  <li *ngIf="preConditionComplete==true && finalPreConditions?.length>0">
                    <div class="pat-heading"><span id="translated_PreCondHeading"> Existing health status </span> </div>
                    <ul class="pat-type">
                      <li *ngFor="let data of finalPreConditions"> {{data}} </li>
                    </ul>
                  </li>
                  <li *ngIf="bodyIndicatorComplete==true && bodyIndicatorSelected?.length>0">
                    <div class="pat-heading"><span id="translated_BIHeading"> Body Indicators</span> </div>
                    <ul class="pat-type">
                      <li  *ngFor="let data of bodyIndicatorSelected"> {{data}}
                      </li>
                    </ul>
                  </li>
                  <li *ngIf=" finalAllergy?.length>0">
                    <div class="pat-heading"><span id="translated_allergyHeading"> Allergy</span> </div>
                    <ul class=" pat-type" style="padding-left:15px">
                      <li *ngFor="let data of finalAllergy"> {{data}} </li>
                    </ul>
                  </li>
                </ul>
                <div class="middle-body">
                  <div class="">
                    <div class="number-div" *ngIf="findingsSelected?.length>0">
                      <div class="pat-heading"><span id="translated_PTHeading"> Patient's Complaints</span> </div>
                      <ul class="numberol">
                        <li *ngFor="let data of findingsSelected"> {{data.value}} </li>
                      </ul>
                    </div>
                    <div class="number-div" *ngIf="symptomsComplete==true && symptomsSelected?.length>0">
                      <div class="pat-heading"><span id="translated_sympHeading"> Symptoms</span> </div>
                      <ul class="numberol">
                        <li *ngFor="let data of symptomsSelected"> {{data.value}} </li>
                      </ul>
                    </div>
                    <div class="number-div" *ngIf="diagnosisComplete==true && diagnosisSelected?.length>0">
                      <div class="pat-heading"><span id="translated_diagnosisHeading"> Diagnosis</span> </div>
                      <ul class="numberol">
                        <li *ngFor="let data of diagnosisSelected">{{data.value}}</li>
                      </ul>
                    </div>
                  </div>
                  <div class="" *ngIf="medicationComplete==true">
                    <div class="padview-medic" id="translated_medication">
                      <div class="pat-heading"><span> Medicines</span> </div>
                      <ol style="padding-left:10px">
                        <li *ngFor="let data of tempMedicationArray">
                          <span *ngIf="data.name=='Tablet' || data.name=='Capsule' || data.name=='Cream' || data.name=='Ointment' || data.name=='Aerosols' || data.name=='Powder' || data.name=='MouthWash'">
                            {{data.short_name}}<b class="notranslate"> {{data.med_name[0].value}} </b>-{{data.frequency}} <span class="notranslate"> X </span> {{data.duration}} days <span *ngIf="data.specialInstruction!=null"> ({{data.specialInstruction}})</span>
                            <span *ngIf="data.med_info"><p class="help-note" *ngIf="data?.med_info?.length>0">({{data.med_info[0].value}}<span *ngIf="data?.med_info?.length>1"> / {{data.med_info[1].value}}</span>)</p>
                          </span>
                        </span>
                        <span *ngIf="data.name=='Syrup' || data.name=='Suspension' || data.name=='Emulsion' || data.name=='Solution'">
                          {{data.short_name}}<b class="notranslate"> {{data.med_name[0].value}} </b>- {{data.dosage}}ml <span class="notranslate"> X </span> {{data.frequency}} <span class="notranslate"> X </span> {{data.duration}} days <span *ngIf="data.specialInstruction!=null"> ({{data.specialInstruction}})</span>
                          <span *ngIf="data.med_info"><p class="help-note" *ngIf="data?.med_info?.length>0">({{data.med_info[0].value}}<span *ngIf="data?.med_info?.length>1"> / {{data.med_info[1].value}}</span>)</p>
                        </span>
                      </span>
                      <span *ngIf="data.name=='Injection' || data.name=='Gel' || data.name=='Lotion'">
                        {{data.short_name}}<b class="notranslate"> {{data.med_name[0].value}} </b><span *ngIf="data.mode"> ({{data.mode}}) </span> -{{data.frequency}} <span class="notranslate"> X </span> {{data.duration}} days <span *ngIf="data.specialInstruction!=null"> ({{data.specialInstruction}})</span><span *ngIf="data.mode"> ({{data.mode}}) </span>
                        <span *ngIf="data.med_info"><p class="help-note" *ngIf="data?.med_info?.length>0">({{data.med_info[0].value}}<span *ngIf="data?.med_info?.length>1"> / {{data.med_info[1].value}}</span>)</p>
                      </span>
                    </span>
                    <span *ngIf="data.name=='Drops'">
                      {{data.short_name}}<b class="notranslate"> {{data.med_name[0].value}} </b>-{{data.quantity}} drops <span class="notranslate"> X </span> {{data.frequency}} <span class="notranslate"> X </span> {{data.duration}} days <span *ngIf="data.specialInstruction!=null"> ({{data.specialInstruction}})</span>
                      <span *ngIf="data?.med_info"><p class="help-note" *ngIf="data?.med_info?.length>0">({{data.med_info[0].value}}<span *ngIf="data?.med_info?.length>1"> / {{data.med_info[1].value}}</span>)</p>
                    </span>
                  </span>
                </li>
              </ol>
            </div>
            <div class="number-div vac-div">
              <div *ngIf="finalCurrentVaccinationArray?.length>0 || finalDueVaccinationArray?.length>0">
                <div class="pat-heading" id="translated_VaccinationHeading"> <span> Vaccination</span> </div>
                <ul *ngIf="finalCurrentVaccinationArray?.length>0" class="medicationol">
                  <div><b>Current</b></div>
                  <li *ngFor="let data of finalCurrentVaccinationArray">{{data}}</li>
                </ul>
                <ul *ngIf="finalDueVaccinationArray?.length>0" class="medicationol">
                  <strong>Due </strong>
                                                                <!-- <span ><strong>Due </strong>
                                                                    
                                                                    ({{vaccinationDate}})
                                                                  </span> -->
                                                                  <li *ngFor="let data of finalDueVaccinationArray">{{data}}</li>
                                                                </ul>
                                                              </div>
                                                              <div class="" *ngIf="instructionsComplete==true && instructionsSelected?.length>0" id="translated_instHeading">
                                                                <div class="pat-heading"> <span> Instructions</span> </div>
                                                                <ul class="numberol" start="1">
                                                                  <li *ngFor="let data of instructionsSelected">{{data}}</li>
                                                                </ul>
                                                              </div>
                                                            </div>
                                                          </div>
                                                        </div>
                                                        <div class="third-body">
                                                          <div class="number-div" *ngIf="investigationIndicatorComplete==true && investigationArray?.length">
                                                            <div class="pat-heading"> <span id="translated_invHeading"> Investigation</span> </div>
                                                            <ol class="numberol pl10">
                                                              <li *ngFor="let data of investigationArray">
                                                                <span *ngIf="data.name != 'Mammography' && data.name!= 'Uroflowmetry' && data.name != 'ECG' && data.name != 'EEG' && data.name != 'TMT' && data.name != 'Echo'">
                                                                  <span *ngIf="data.name!='Others'">{{data.name}} - </span><span *ngFor="let value of data.values;let i = index">{{value.value}} 
                                                                    <span *ngIf="i!=data?.values?.length-1">\</span>
                                                                  </span>
                                                                </span>
                                                                <span *ngIf="data.name == 'Mammography' || data.name== 'Uroflowmetry' || data.name == 'ECG' || data.name == 'EEG' || data.name == 'TMT' || data.name == 'Echo'">
                                                                  <span *ngIf="data.name!='Others'">{{data.name}} - </span> {{data.values}}
                                                                </span>
                                                              </li>
                                                            </ol>
                                                          </div>
                                                          <div class="number-div" *ngIf="treatmentComplete==true" id="translated_OTHeading">
                                                            <div class="pat-heading"> <span> Other Treatments</span> </div>
                                                            <ul class="numberol">
                                                              <li *ngFor="let data of treatmentArray;let i =index">
                                                                <span *ngIf="data.name=='Lifestyle Changes'">
                                                                  {{data.name}} - <span *ngFor="let value of data.lifestyle;let j = index">{{value.value}} <span *ngIf="j!=data?.lifestyle?.length-1">\</span></span>
                                                                </span>
                                                                <span *ngIf="data.name=='Physiotherapy' || data.name=='Fomentation'">
                                                                  {{data.name}} - {{data.Frequency}} for {{data.Duration}} days <span *ngIf="data.SpecialInstruction!=null"> ({{data.SpecialInstruction}})</span>
                                                                </span>
                                                                <span *ngIf="data.name=='Plaster'">
                                                                  <span class="notranslate">{{data.name}}</span> - on <span class="notranslate">{{data.Injury_Area}}</span> of {{data.plaster_type}} for {{data.Duration}} days 
                                                                </span>
                                                                <span *ngIf="data.name=='Gargle' || data.name=='Dressing' || data.name=='Bandage' || data.name=='Other'">
                                                                  <span *ngIf="data.name!='Other'">{{data.name}} - </span>{{data.med_name[0].value}} {{data.Frequency}} for {{data.Duration}} days <span *ngIf="data.SpecialInstruction!=null"> ({{data.SpecialInstruction}})</span>
                                                                </span>
                                                                <span>
                                                                  {{data.value}}
                                                                </span>
                                                              </li>
                                                            </ul>
                                                          </div>
                                                        </div>
                                                        <div class="note-box">
                                                          <div class="note-innerbox">
                                                            <div class="note-innerdiv">
                                                              <div class="number-div" *ngIf="surgeryComplete==true && surgerySelectedArray?.length>0">
                                                                <div class="pat-heading"> <span id="translated_surgHeading"> Recommended Surgery</span> </div>
                                                                <ul class="numberol">
                                                                  <li *ngFor="let data of surgerySelectedArray">{{data.sub_speciality | titlecase}} - {{data.procedure_name[0].value}}</li>
                                                                </ul>
                                                              </div>
                                                              <div class="number-div" *ngIf="referDoctorName?.first_name" style="padding:0 30px;">
                                                                <div class="pat-heading"> <span> Referred To</span> </div>
                                                                <p> {{referDoctorName?.first_name | uppercase}} </p>
                                                              </div>
                                                            </div>
                                                          </div>
                                                          <div class="" *ngIf="eyePresComplete==true">
                                                            <div class="pat-heading"> <span id="translated_eyeHeading"> Eye Prescription</span> </div>
                                                            <div class="table-responsive">
                                                              <table class="table table-bordered table-striped cstm-table">
                                                                <thead>
                                                                  <tr>
                                                                    <th> Eye </th>
                                                                    <th> Sphere </th>
                                                                    <th> Cylinder </th>
                                                                    <th> Axis </th>
                                                                    <th> Add </th>
                                                                    <th> PD (mm) </th>
                                                                  </tr>
                                                                </thead>
                                                                <tbody>
                                                                  <tr>
                                                                    <td> Right (OD): </td>
                                                                    <td> {{finalRightOD.sphere}} </td>
                                                                    <td> {{finalRightOD.cylinder}} </td>
                                                                    <td> {{finalRightOD.axis}} </td>
                                                                    <td> {{finalRightOD.add}} </td>
                                                                    <td> {{finalRightOD.pd}} </td>
                                                                  </tr>
                                                                  <tr>
                                                                    <td> Left (OS): </td>
                                                                    <td> {{finalLeftOD.sphere}} </td>
                                                                    <td> {{finalLeftOD.cylinder}} </td>
                                                                    <td> {{finalLeftOD.axis}} </td>
                                                                    <td> {{finalLeftOD.add}} </td>
                                                                    <td> {{finalLeftOD.pd}} </td>
                                                                  </tr>
                                                                </tbody>
                                                              </table>
                                                            </div>
                                                          </div>
                                                        </div>
                                                        <div class="third-body">
                                                          <div class="number-div" *ngIf="followDaysComplete == true">
                                                            <div class="pat-heading"> <span> Follow-Up</span></div>
                                                            <p> Please come again after {{finalfollowUpDays}} days for consultation </p>
                                                            <p class="small"> On {{followUpDay}} {{followUpMonth}} , {{followUpYear}}</p>
                                                          </div>
                                                        </div>
                                                        <div class="forth-body">
                                                          <div class="padview-confee" *ngIf="checkOptionOfPad('Consultation_duration')">
                                                            <div class="cons-time">Consultation Duration: {{minutes}} min {{seconds}} sec </div>
                                                          </div>
                                                          <div class="signature" *ngIf="checkOptionOfPad('Signature')">(Signature)</div>
                                                        </div>
                                                      </div>
                                                    </div>
                                                  </div>
                                                  <div class="padview-footer" *ngIf="checkOptionOfPad('Footer_note')">
                                                    <div class="col-md-12 col-sm-12 col-xs-12">
                                                      <div class="padview-powered">
                                                        <div style="float:left; color:#ccc;">Powered by doctm</div>
                                                        <div style="float:right; color:#ccc;">For prescription visit www.mydoctm.com</div>
                                                      </div>
                                                    </div>
                                                    <div class="col-md-12 col-sm-4 col-xs-12" id="translated_footer">
                                                      <div class="legal">
                                                        <h3>{{getFooterText()}}</h3>
                                                      </div>
                                                    </div>
                                                  </div>
                                                </div>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>

                                    <div class="modal fade cus-preview" id="previewModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                                      <div class="modal-dialog" role="document">
                                        <div class="modal-content show-default" *ngIf="medicationComplete">
                                          <div class="modal-header">
                                            <div>
                                              <h4 class="modal-title"> Preview </h4>
                                            </div>
                                            <div class="text-center">
                                              <button type="button" class="btn-sm btn btn-custom" (click)="createPdf()"> Print </button>
                                            </div>
                                            <div>
                                              <button type="button" class="pull-right btn-sm btn btn-custom btn-outline" data-dismiss="modal" aria-label="Close"> Close </button>
                                            </div>
                                          </div>
                                          <div class="modal-body">
                                            <div class="row">
                                              <div class="presc-modal-body" *ngIf="dispensedPatient">
                                                <div class="pad-view">
                                                  <div class="padview-header">
                                                    <div class="pad-view-flx col-lg-4">
                                                      <div class="form-group doctor-name" *ngIf="checkOptionOfPad('Doctor_name')">
                                                        <h1 id="translated_doctorName"> Dr<span class="notranslate">.</span> {{doctorData.first_name  | uppercase}} </h1>
                                                      </div>
                                                      <div class="form-group qual">
                                                        <p class="color-purple">
                                                          <span *ngIf="checkOptionOfPad('Specialization')">({{doctorData.specialization}})</span><br>
                                                          <span *ngIf="checkOptionOfPad('Qualifications')">
                                                            <span *ngFor="let data of doctorData.qualification;let i = index">
                                                             {{data.value}} <span *ngIf="i!=doctorData?.qualification?.length-1">,</span>
                                                           </span>
                                                         </span>
                                                       </p>
                                                       <p *ngIf="checkOptionOfPad('registration_no')"> Registration: <span class="color-purple"> {{doctorData.registration_no}} </span> </p>
                                                       <p *ngIf="checkOptionOfPad('Professional_affiliation')">
                                                        <span class="color-purple" *ngFor="let pa of doctorData.professional_affiliation;let i=index">
                                                          {{pa.value}}<span *ngIf="i!=doctorData?.professional_affiliation?.length-1">,</span>
                                                        </span>
                                                      </p>
                                                    </div>
                                                  </div>

                                                  <div class="pad-view-flx col-lg-8">
                                                    <ul class="clinic-detail">
                                                      <li class="clinic-name" *ngIf="checkOptionOfPad('Clinic_name')">
                                                        <h1 id="translated_clinicName"> {{doctorData.clinic_details.clinic_name}} </h1>
                                                      </li>
                                                      <li *ngIf="checkOptionOfPad('Clinic_address')">{{doctorData.clinic_details.address}}, {{doctorData.clinic_details.area}}, {{doctorData.clinic_details.city}}, {{doctorData.clinic_details.state}}</li>
                                                      <li class="li-cstm">
                                                        <div class="row" *ngIf="checkOptionOfPad('Appointment_contacts')">
                                                          <div class="col-lg-12">
                                                            <h4 class="for-apt"> For appointments </h4>
                                                            <p *ngIf="doctorData.clinic_details.landline"> Tel: {{doctorData.clinic_details.std_code}}-{{doctorData.clinic_details.landline}}</p>
                                                            <p> Mb: +91-{{doctorData.clinic_details.mobile}} </p>
                                                          </div>
                                                        </div>

                                                      </li>
                                                    </ul>
                                                  </div>

                                                </div>
                                                <p class="text-center" *ngIf="checkOptionOfPad('Header_note')">
                                                  <label id="translated_appointmentText"> {{getHeaderText()}} </label>
                                                </p>
                                                <div class="padview-body">
                                                  <div class="col-md-2 col-sm-2 col-xs- p-0">
                                                    <div class="emergency-wrap">
                                                      <div class="form-group emrgency-consult" *ngIf="dispensedPatient.type=='Emergency'">
                                                        <p class="small" id="translated_emergencyText"><i> Emergency Consultation </i> </p>
                                                      </div>
                                                      <div class="form-group schdl" *ngIf="checkOptionOfPad('Clinic_schedule')">
                                                        <h5 class="color-blue"> Schedule: </h5>
                                                        <div class="form-group span-txt" *ngFor="let shift of allShifts"> 
                                                          <span><strong style="display:block; width:110px;"> {{shift.day}}: </strong>
                                                            <span class="mrgin-r" *ngFor="let time of shift.shifts"> 
                                                              [
                                                              <span *ngIf="time.fromTime.hour=='0'">{{time.fromTime.hour}}0:</span>
                                                              <span *ngIf="time.fromTime.hour!='0'">{{time.fromTime.hour}}:</span>
                                                              <span *ngIf="time.fromTime.minute=='0'">{{time.fromTime.minute}}0 –</span>
                                                              <span *ngIf="time.fromTime.minute!='0'">{{time.fromTime.minute}} –</span>
                                                              <span *ngIf="time.toTime.hour=='0'">{{time.toTime.hour}}0:</span>
                                                              <span *ngIf="time.toTime.hour!='0'">{{time.toTime.hour}}:</span>
                                                              <span *ngIf="time.toTime.minute=='0'">{{time.toTime.minute}}0</span>
                                                              <span *ngIf="time.toTime.minute!='0'">{{time.toTime.minute}}</span>
                                                              ]
                                                            </span>
                                                            <br>
                                                          </span>
                                                        </div>
                                                        <div class="form-group" *ngFor="let shift of allShiftsClosed"> 
                                                          <span><strong> {{shift.day}}: </strong> Closed 
                                                          </span>
                                                        </div>
                                                      </div>
                                                      <div id="translated_treatmentText" *ngIf="checkOptionOfPad('Available_treatments')">
                                                        <h5 class="color-blue"> Available Treatments: </h5>
                                                        <ul style="padding-left:15px!important;">
                                                          <li *ngFor="let treat of doctorData.expertise">{{treat.value}}</li>
                                                        </ul>
                                                      </div>
                                                      <div *ngIf="doctorData.clinic_services_status=='Yes' && checkOptionOfPad('Available_services')" id="translated_servicesText">
                                                        <h5 class="color-blue"> Available Services: </h5>
                                                        <ul style="padding-left:15px!important;">
                                                          <li *ngIf="doctorData.clinic_services.Clinic_Pharmacy">Pharmacy</li>
                                                          <li *ngIf="doctorData.clinic_services.Clinic_IPD">IPD</li>
                                                          <li *ngFor="let cs of doctorData.clinic_services.ClinicServicesDetail"> {{cs}} </li>
                                                          <li *ngFor="let cs of doctorData.clinic_services.OtherClinicService"> {{cs.value}} </li>
                                                        </ul>
                                                      </div>
                                                    </div>                                   
                                                  </div>
                                                  <div class="col-md-10 col-sm-10 col-xs-10 p-0" style="font-size: 10px;">
                                                    <div class="padview-bodyright">
                                                      <ul class="padview-body-header">
                                                        <li>
                                                          <div class="text-underline"> Prescription ID </div>
                                                          <div class="strong">{{prescription_id}}</div>
                                                        </li>
                                                        <li>
                                                          <div class="text-underline"> Name </div>
                                                          <div class="strong"> {{dispensedPatient.pateintName | uppercase}} </div>
                                                        </li>
                                                        <li>
                                                          <div class="text-underline"> Age/Sex </div>
                                                          <div class="strong"> {{dispensedPatient.age}} / {{dispensedPatient.gender}} </div>
                                                        </li>
                                                        <li>
                                                          <div class="text-underline"> Weight </div>
                                                          <div class="strong" *ngIf="dispensedPatient.weight"> {{dispensedPatient.weight}} Kg </div>
                                                        </li>
                                                        <li>
                                                          <div class="text-underline"> Height </div>
                                                          <div class="strong" *ngIf="dispensedPatient.height"> {{dispensedPatient.height}} cm </div>
                                                        </li>
                                                        <li>
                                                          <div class="strong"> {{day}} {{month}} , {{year}}</div>
                                                        </li>
                                                      </ul>
                                                      <ul class="padview-patient">
                                                        <li class="img-patient">
                                                          <img src="{{pateintPicPath}}{{dispensedPatient.pateintPic}}" class="img-responsive" *ngIf="dispensedPatient.pateintPic"/>
                                                          <img src="./assets/imgs/no-person.jpg" class="img-responsive" *ngIf="!dispensedPatient.pateintPic"/>
                                                        </li>
                                                        <li *ngIf="preConditionComplete==true && finalPreConditions?.length>0">
                                                          <div class="pat-heading"><span id="translated_PreCondHeading"> Existing health status </span> </div>
                                                          <ul class="pat-type">
                                                            <li *ngFor="let data of finalPreConditions"> {{data}} </li>
                                                          </ul>
                                                        </li>
                                                        <li *ngIf="bodyIndicatorComplete==true && bodyIndicatorSelected?.length>0">
                                                          <div class="pat-heading"><span id="translated_BIHeading"> Body Indicators</span> </div>
                                                          <ul class="pat-type">
                                                            <li *ngFor="let data of bodyIndicatorSelected"> {{data}}
                                                            </li>
                                                          </ul>
                                                        </li>
                                                        <li *ngIf=" finalAllergy?.length>0">
                                                          <div class="pat-heading"><span id="translated_allergyHeading"> Allergy</span> </div>
                                                          <ul class=" pat-type">
                                                            <li *ngFor="let data of finalAllergy"> {{data}} </li>
                                                          </ul>
                                                        </li>
                                                      </ul>
                                                      <div class="middle-body">
                                                        <div class="">
                                                          <div class="number-div" *ngIf=" findingsSelected?.length>0">
                                                            <div class="pat-heading"><span id="translated_PTHeading"> Patient's Complaints</span> </div>
                                                            <ul class="numberol">
                                                              <li *ngFor="let data of findingsSelected"> {{data.value}} </li>
                                                            </ul>
                                                          </div>
                                                          <div class="number-div" *ngIf="symptomsComplete==true && symptomsSelected?.length>0">
                                                            <div class="pat-heading"><span id="translated_sympHeading"> Symptoms</span> </div>
                                                            <ul class="numberol">
                                                              <li *ngFor="let data of symptomsSelected"> {{data.value}} </li>
                                                            </ul>
                                                          </div>
                                                          <div class="number-div" *ngIf="diagnosisComplete==true && diagnosisSelected?.length>0">
                                                            <div class="pat-heading"><span id="translated_diagnosisHeading"> Diagnosis</span> </div>
                                                            <ul class="numberol">
                                                              <li *ngFor="let data of diagnosisSelected">{{data.value}}</li>
                                                            </ul>
                                                          </div>
                                                        </div>
                                                        <div class="" *ngIf="medicationComplete==true">
                                                          <div class="padview-medic" id="translated_medication">
                                                            <div class="pat-heading"><span> Medicines</span> </div>
                                                            <ol style="padding-left:10px">
                                                              <li *ngFor="let data of tempMedicationArray">
                                                                <span *ngIf="data.name=='Tablet' || data.name=='Capsule' || data.name=='Cream' || data.name=='Ointment' || data.name=='Aerosols' || data.name=='Powder' || data.name=='MouthWash'">
                                                                  {{data.short_name}}<b class="notranslate"> {{data.med_name[0].value}} </b>-{{data.frequency}} <span class="notranslate"> X </span> {{data.duration}} days <span *ngIf="data.specialInstruction!=null"> ({{data.specialInstruction}})</span>
                                                                  <span *ngIf="data.med_info"><p class="help-note" *ngIf="data?.med_info?.length>0">({{data.med_info[0].value}}<span *ngIf="data?.med_info?.length>1"> / {{data.med_info[1].value}}</span>)</p>
                                                                </span>
                                                              </span>
                                                              <span *ngIf="data.name=='Syrup' || data.name=='Suspension' || data.name=='Emulsion' || data.name=='Solution'">
                                                                {{data.short_name}}<b class="notranslate"> {{data.med_name[0].value}} </b>- {{data.dosage}}ml <span class="notranslate"> X </span> {{data.frequency}} <span class="notranslate"> X </span> {{data.duration}} days <span *ngIf="data.specialInstruction!=null"> ({{data.specialInstruction}})</span>
                                                                <span *ngIf="data.med_info"><p class="help-note" *ngIf="data?.med_info?.length>0">({{data.med_info[0].value}}<span *ngIf="data?.med_info?.length>1"> / {{data.med_info[1].value}}</span>)</p>
                                                              </span>
                                                            </span>
                                                            <span *ngIf="data.name=='Injection' || data.name=='Gel' || data.name=='Lotion'">
                                                              {{data.short_name}}<b class="notranslate"> {{data.med_name[0].value}} </b><span *ngIf="data.mode"> ({{data.mode}}) </span> -{{data.frequency}} <span class="notranslate"> X </span> {{data.duration}} days <span *ngIf="data.specialInstruction!=null"> ({{data.specialInstruction}})</span><span *ngIf="data.mode"> ({{data.mode}}) </span>
                                                              <span *ngIf="data.med_info"><p class="help-note" *ngIf="data?.med_info?.length>0">({{data.med_info[0].value}}<span *ngIf="data?.med_info?.length>1"> / {{data.med_info[1].value}}</span>)</p>
                                                            </span>
                                                          </span>
                                                          <span *ngIf="data.name=='Drops'">
                                                            {{data.short_name}}<b class="notranslate"> {{data.med_name[0].value}} </b>-{{data.quantity}} drops <span class="notranslate"> X </span> {{data.frequency}} <span class="notranslate"> X </span> {{data.duration}} days <span *ngIf="data.specialInstruction!=null"> ({{data.specialInstruction}})</span>
                                                            <span *ngIf="data.med_info"><p class="help-note" *ngIf="data?.med_info?.length>0">({{data.med_info[0].value}}<span *ngIf="data?.med_info?.length>1"> / {{data.med_info[1].value}}</span>)</p>
                                                          </span>
                                                        </span>
                                                      </li>
                                                    </ol>
                                                  </div>
                                                  <div class="number-div vac-div">
                                                   <div *ngIf="finalCurrentVaccinationArray?.length>0 || finalDueVaccinationArray?.length>0">
                                                    <div class="pat-heading" id="translated_VaccinationHeading"> <span> Vaccination</span> </div>
                                                    <ul class="medicationol" *ngIf="finalCurrentVaccinationArray?.length>0">
                                                      <div><b>Current</b></div>
                                                      <li *ngFor="let data of finalCurrentVaccinationArray">{{data}}</li>
                                                    </ul>
                                                    <ul *ngIf="finalDueVaccinationArray?.length>0" class="medicationol">
                                                      <strong>Due </strong>
                                                           <!--  <span *ngIf="finalDueVaccinationArray?.length>0"><strong>Due </strong>({{vaccinationDate}})
                                                           </span> -->
                                                           <li *ngFor="let data of finalDueVaccinationArray">{{data}}</li>
                                                         </ul>
                                                       </div>
                                                       <div class="" *ngIf="instructionsComplete==true && instructionsSelected?.length>0" id="translated_instHeading">
                                                        <div class="pat-heading"> <span> Instructions</span> </div>
                                                        <ul class="numberol" start="1">
                                                          <li *ngFor="let data of instructionsSelected">{{data}}</li>
                                                        </ul>
                                                      </div>
                                                    </div>
                                                  </div>
                                                </div>
                                                <div class="third-body">
                                                  <div class="number-div" *ngIf="investigationIndicatorComplete==true && investigationArray?.length">
                                                    <div class="pat-heading"> <span id="translated_invHeading"> Investigation</span> </div>
                                                    <ol class="numberol pl10">
                                                      <li *ngFor="let data of investigationArray">
                                                        <span *ngIf="data.name != 'Mammography' && data.name!= 'Uroflowmetry' && data.name != 'ECG' && data.name != 'EEG' && data.name != 'TMT' && data.name != 'Echo'">
                                                          <span *ngIf="data.name!='Others'">{{data.name}} - </span><span *ngFor="let value of data.values;let i = index">{{value.value}} 
                                                            <span *ngIf="i!=data?.values?.length-1">\</span>
                                                          </span>
                                                        </span>
                                                        <span *ngIf="data.name == 'Mammography' || data.name== 'Uroflowmetry' || data.name == 'ECG' || data.name == 'EEG' || data.name == 'TMT' || data.name == 'Echo'">
                                                          <span *ngIf="data.name!='Others'">{{data.name}} - </span> {{data.values}}
                                                        </span>
                                                      </li>
                                                    </ol>
                                                  </div>
                                                  <div class="number-div" *ngIf="treatmentComplete==true" id="translated_OTHeading">
                                                    <div class="pat-heading"> <span> Other Treatments</span> </div>
                                                    <ul class="numberol">
                                                      <li *ngFor="let data of treatmentArray;let i =index">
                                                        <span *ngIf="data.name=='Lifestyle Changes'">
                                                          {{data.name}} - <span *ngFor="let value of data.lifestyle;let j = index">{{value.value}} <span *ngIf="j!=data?.lifestyle?.length-1">\</span></span>
                                                        </span>
                                                        <span *ngIf="data.name=='Physiotherapy' || data.name=='Fomentation'">
                                                          {{data.name}} - {{data.Frequency}} for {{data.Duration}} days <span *ngIf="data.SpecialInstruction!=null"> ({{data.SpecialInstruction}})</span>
                                                        </span>
                                                        <span *ngIf="data.name=='Plaster'">
                                                          <span class="notranslate">{{data.name}}</span> - on <span class="notranslate">{{data.Injury_Area}}</span> of {{data.plaster_type}} for {{data.Duration}} days 
                                                        </span>
                                                        <span *ngIf="data.name=='Gargle' || data.name=='Dressing' || data.name=='Bandage' || data.name=='Other'">
                                                          <span *ngIf="data.name!='Other'">{{data.name}} - </span>{{data.med_name[0].value}} {{data.Frequency}} for {{data.Duration}} days <span *ngIf="data.SpecialInstruction!=null"> ({{data.SpecialInstruction}})</span>
                                                        </span>
                                                        <span>
                                                          {{data.value}}
                                                        </span>
                                                      </li>
                                                    </ul>
                                                  </div>
                                                </div>
                                                <div class="note-box">
                                                  <div class="note-innerbox">
                                                    <div class="note-innerdiv">
                                                      <div class="number-div" *ngIf="surgeryComplete==true && surgerySelectedArray?.length>0">
                                                        <div class="pat-heading"> <span id="translated_surgHeading"> Recommended Surgery</span> </div>
                                                        <ul class="numberol">
                                                          <li *ngFor="let data of surgerySelectedArray">{{data.sub_speciality | titlecase}} - {{data.procedure_name[0].value}}</li>
                                                        </ul>
                                                      </div>
                                                      <div class="number-div" *ngIf="referDoctorName?.first_name" style="padding:0 30px;">
                                                        <div class="pat-heading"> <span> Referred To</span> </div>
                                                        <p> {{referDoctorName?.first_name | uppercase}} </p>
                                                      </div>
                                                    </div>
                                                  </div>
                                                  <div class="" *ngIf="eyePresComplete==true">
                                                    <div class="pat-heading"> <span id="translated_eyeHeading"> Eye Prescription</span> </div>
                                                    <div class="table-responsive">
                                                      <table class="table table-bordered table-striped cstm-table">
                                                        <thead>
                                                          <tr>
                                                            <th> Eye </th>
                                                            <th> Sphere </th>
                                                            <th> Cylinder </th>
                                                            <th> Axis </th>
                                                            <th> Add </th>
                                                            <th> PD (mm) </th>
                                                          </tr>
                                                        </thead>
                                                        <tbody>
                                                          <tr>
                                                            <td> Right (OD): </td>
                                                            <td> {{finalRightOD.sphere}} </td>
                                                            <td> {{finalRightOD.cylinder}} </td>
                                                            <td> {{finalRightOD.axis}} </td>
                                                            <td> {{finalRightOD.add}} </td>
                                                            <td> {{finalRightOD.pd}} </td>
                                                          </tr>
                                                          <tr>
                                                            <td> Left (OS): </td>
                                                            <td> {{finalLeftOD.sphere}} </td>
                                                            <td> {{finalLeftOD.cylinder}} </td>
                                                            <td> {{finalLeftOD.axis}} </td>
                                                            <td> {{finalLeftOD.add}} </td>
                                                            <td> {{finalLeftOD.pd}} </td>
                                                          </tr>
                                                        </tbody>
                                                      </table>
                                                    </div>
                                                  </div>
                                                </div>
                                                <div class="third-body">
                                                  <div class="number-div" *ngIf="followDaysComplete == true">
                                                    <div class="pat-heading"> <span> Follow Up</span></div>
                                                    <p> Please come again after {{finalfollowUpDays}} days for consultation </p>
                                                    <p class="small"> On {{followUpDay}} {{followUpMonth}} , {{followUpYear}}</p>
                                                  </div>
                                                </div>
                                                <div class="forth-body">
                                                  <div class="padview-confee" *ngIf="checkOptionOfPad('Consultation_duration')">
                                                    <div class="cons-time">Consultation Duration: {{minutes}} min {{seconds}} sec </div>
                                                  </div>
                                                  <div class="signature" *ngIf="checkOptionOfPad('Signature')">(Signature)</div>
                                                </div>
                                              </div>
                                            </div>
                                          </div>
                                          <div class="padview-footer" *ngIf="checkOptionOfPad('Footer_note')">
                                            <div class="col-md-12 col-sm-12 col-xs-12">
                                              <div class="padview-powered">
                                                <div style="float:left; color:#ccc;">Powered by doctm</div>
                                                <div style="float:right; color:#ccc;">For prescription visit www.mydoctm.com </div>
                                              </div>
                                            </div>
                                            <div class="col-md-12 col-sm-4 col-xs-12" id="translated_footer">
                                              <div class="legal">
                                                <h3>{{getFooterText()}}</h3>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
<!--     <div class="modal-content" *ngIf="!medicationComplete">
        <div class="modal-header">

        </div>
        <div class="modal-body">
            <div class="text-center">
                <h3>Prescription not Available</h3>
            </div>
        </div>
            <div class="modal-footer">
                <div class="col-md-12 col-sm-12 col-xs-12">
                    <div class="padview-powered">
                        <div style="float:left; color:#ccc;">Powered by doctm</div>
                        <div style="float:right; color:#ccc;">For prescription visit www.mydoctm.com </div>
                    </div>
                </div>
                <div class="col-md-12 col-sm-4 col-xs-12" id="translated_footer">
                    <div class="legal">
                        <h3>{{getFooterText()}}</h3>
                    </div>
                </div>
            </div>
        
        
        
          </div> -->
        </div>
      </div>


      <div class="modal fade cus-preview" id="previewModal1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                                      <div class="modal-dialog" role="document">
                                        <div class="modal-content show-default" *ngIf="medicationComplete">
                                          <div class="modal-header">
                                            <div class="row">
                                            <div class="col-lg-4">
                                              <h4 class="modal-title"> Preview </h4>
                                            </div>
                                            <div class="col-lg-4 text-center">
                                              <button type="button" class="btn-sm btn btn-custom" (click)="createPdf()"> Print </button>
                                            </div>
                                            <div class="col-lg-4">
                                              <button type="button" class="pull-right btn-sm btn btn-custom btn-outline" data-dismiss="modal" aria-label="Close"> Close </button>
                                            </div>
                                          </div>
                                          </div>
                                          <div class="modal-body">
                                            <div class="row">
                                              <div class="presc-modal-body" *ngIf="dispensedPatient">
                                                <div class="pad-view">
                                                  <div class="padview-header">
                                                    <div class="pad-view-flx col-lg-4">
                                                      <div class="form-group doctor-name" *ngIf="checkOptionOfPad('Doctor_name')">
                                                        <h1 id="translated_doctorName"> Dr<span class="notranslate">.</span> {{openedPopUp.by_doctor_id.first_name  | uppercase}} </h1>
                                                      </div>
                                                      <div class="form-group qual">
                                                        <p class="color-purple">
                                                          <span *ngIf="checkOptionOfPad('Specialization')">({{openedPopUp.by_doctor_id.specialization}})</span><br>
                                                          <span *ngIf="checkOptionOfPad('Qualifications')">
                                                            <span *ngFor="let data of openedPopUp.by_doctor_id.qualification;let i = index">
                                                             {{data.value}} <span *ngIf="i!=openedPopUp.by_doctor_id?.qualification?.length-1">,</span>
                                                           </span>
                                                         </span>
                                                       </p>
                                                       <p *ngIf="checkOptionOfPad('registration_no')"> Registration: <span class="color-purple"> {{openedPopUp.by_doctor_id.registration_no}} </span> </p>
                                                       <p *ngIf="checkOptionOfPad('Professional_affiliation')">
                                                        <span class="color-purple" *ngFor="let pa of openedPopUp.by_doctor_id.professional_affiliation;let i=index">
                                                          {{pa.value}}<span *ngIf="i!=openedPopUp.by_doctor_id?.professional_affiliation?.length-1">,</span>
                                                        </span>
                                                      </p>
                                                    </div>
                                                  </div>

                                                  <div class="pad-view-flx col-lg-8">
                                                    <ul class="clinic-detail">
                                                      <li class="clinic-name" *ngIf="checkOptionOfPad('Clinic_name')">
                                                        <h1 id="translated_clinicName"> {{openedPopUp.by_doctor_id.clinic_details.clinic_name}} </h1>
                                                      </li>
                                                      <li *ngIf="checkOptionOfPad('Clinic_address')">{{openedPopUp.by_doctor_id.clinic_details.address}}, {{openedPopUp.by_doctor_id.clinic_details.area}}, {{openedPopUp.by_doctor_id.clinic_details.city}}, {{openedPopUp.by_doctor_id.clinic_details.state}}</li>
                                                      <li class="li-cstm">
                                                        <div class="row" *ngIf="checkOptionOfPad('Appointment_contacts')">
                                                          <div class="col-lg-12">
                                                            <h4 class="for-apt"> For appointments </h4>
                                                            <p *ngIf="openedPopUp.by_doctor_id.clinic_details.landline"> Tel: {{openedPopUp.by_doctor_id.clinic_details.std_code}}-{{openedPopUp.by_doctor_id.clinic_details.landline}}</p>
                                                            <p> Mb: +91-{{openedPopUp.by_doctor_id.clinic_details.mobile}} </p>
                                                          </div>
                                                        </div>

                                                      </li>
                                                    </ul>
                                                  </div>

                                                </div>
                                                <p class="text-center" *ngIf="checkOptionOfPad('Header_note')">
                                                  <label id="translated_appointmentText"> {{getHeaderText()}} </label>
                                                </p>
                                                <div class="padview-body">
                                                  <div class="col-md-2 col-sm-2 col-xs- p-0">
                                                    <div class="emergency-wrap">
                                                      <div class="form-group emrgency-consult" *ngIf="dispensedPatient.type=='Emergency'">
                                                        <p class="small" id="translated_emergencyText"><i> Emergency Consultation </i> </p>
                                                      </div>
                                                      <div class="form-group schdl" *ngIf="checkOptionOfPad('Clinic_schedule')">
                                                        <h5 class="color-blue"> Schedule: </h5>
                                                        <div class="form-group span-txt" *ngFor="let shift of allShifts"> 
                                                          <span><strong style="display:block; width:110px;"> {{shift.day}}: </strong>
                                                            <span class="mrgin-r" *ngFor="let time of shift.shifts"> 
                                                              [
                                                              <span *ngIf="time.fromTime.hour=='0'">{{time.fromTime.hour}}0:</span>
                                                              <span *ngIf="time.fromTime.hour!='0'">{{time.fromTime.hour}}:</span>
                                                              <span *ngIf="time.fromTime.minute=='0'">{{time.fromTime.minute}}0 –</span>
                                                              <span *ngIf="time.fromTime.minute!='0'">{{time.fromTime.minute}} –</span>
                                                              <span *ngIf="time.toTime.hour=='0'">{{time.toTime.hour}}0:</span>
                                                              <span *ngIf="time.toTime.hour!='0'">{{time.toTime.hour}}:</span>
                                                              <span *ngIf="time.toTime.minute=='0'">{{time.toTime.minute}}0</span>
                                                              <span *ngIf="time.toTime.minute!='0'">{{time.toTime.minute}}</span>
                                                              ]
                                                            </span>
                                                            <br>
                                                          </span>
                                                        </div>
                                                        <div class="form-group" *ngFor="let shift of allShiftsClosed"> 
                                                          <span><strong> {{shift.day}}: </strong> Closed 
                                                          </span>
                                                        </div>
                                                      </div>
                                                      <div id="translated_treatmentText" *ngIf="checkOptionOfPad('Available_treatments')">
                                                        <h5 class="color-blue"> Available Treatments: </h5>
                                                        <ul style="padding-left:15px!important;">
                                                          <li *ngFor="let treat of doctorData.expertise">{{treat.value}}</li>
                                                        </ul>
                                                      </div>
                                                      <div *ngIf="doctorData.clinic_services_status=='Yes' && checkOptionOfPad('Available_services')" id="translated_servicesText">
                                                        <h5 class="color-blue"> Available Services: </h5>
                                                        <ul style="padding-left:15px!important;">
                                                          <li *ngIf="doctorData.clinic_services.Clinic_Pharmacy">Pharmacy</li>
                                                          <li *ngIf="doctorData.clinic_services.Clinic_IPD">IPD</li>
                                                          <li *ngFor="let cs of doctorData.clinic_services.ClinicServicesDetail"> {{cs}} </li>
                                                          <li *ngFor="let cs of doctorData.clinic_services.OtherClinicService"> {{cs.value}} </li>
                                                        </ul>
                                                      </div>
                                                    </div>                                   
                                                  </div>
                                                  <div class="col-md-10 col-sm-10 col-xs-10 p-0" style="font-size: 10px;">
                                                    <div class="padview-bodyright">
                                                      <ul class="padview-body-header">
                                                        <li>
                                                          <div class="text-underline"> Prescription ID </div>
                                                          <div class="strong">{{prescription_id}}</div>
                                                        </li>
                                                        <li>
                                                          <div class="text-underline"> Name </div>
                                                          <div class="strong"> {{dispensedPatient.pateintName | uppercase}} </div>
                                                        </li>
                                                        <li>
                                                          <div class="text-underline"> Age/Sex </div>
                                                          <div class="strong"> {{dispensedPatient.age}} / {{dispensedPatient.gender}} </div>
                                                        </li>
                                                        <li>
                                                          <div class="text-underline"> Weight </div>
                                                          <div class="strong" *ngIf="dispensedPatient.weight"> {{dispensedPatient.weight}} Kg </div>
                                                        </li>
                                                        <li>
                                                          <div class="text-underline"> Height </div>
                                                          <div class="strong" *ngIf="dispensedPatient.height"> {{dispensedPatient.height}} cm </div>
                                                        </li>
                                                        <li>
                                                          <div class="strong"> {{day}} {{month}} , {{year}}</div>
                                                        </li>
                                                      </ul>
                                                      <ul class="padview-patient">
                                                        <li class="img-patient">
                                                          <img src="{{pateintPicPath}}{{dispensedPatient.pateintPic}}" class="img-responsive" *ngIf="dispensedPatient.pateintPic"/>
                                                          <img src="./assets/imgs/no-person.jpg" class="img-responsive" *ngIf="!dispensedPatient.pateintPic"/>
                                                        </li>
                                                        <li *ngIf="preConditionComplete==true && finalPreConditions?.length>0">
                                                          <div class="pat-heading"><span id="translated_PreCondHeading"> Existing health status </span> </div>
                                                          <ul class="pat-type">
                                                            <li *ngFor="let data of finalPreConditions"> {{data}} </li>
                                                          </ul>
                                                        </li>
                                                        <li *ngIf="bodyIndicatorComplete==true && bodyIndicatorSelected?.length>0">
                                                          <div class="pat-heading"><span id="translated_BIHeading"> Body Indicators</span> </div>
                                                          <ul class="pat-type">
                                                            <li *ngFor="let data of bodyIndicatorSelected"> {{data}}
                                                            </li>
                                                          </ul>
                                                        </li>
                                                        <li *ngIf=" finalAllergy?.length>0">
                                                          <div class="pat-heading"><span id="translated_allergyHeading"> Allergy</span> </div>
                                                          <ul class=" pat-type">
                                                            <li *ngFor="let data of finalAllergy"> {{data}} </li>
                                                          </ul>
                                                        </li>
                                                      </ul>
                                                      <div class="middle-body">
                                                        <div class="">
                                                          <div class="number-div" *ngIf=" findingsSelected?.length>0">
                                                            <div class="pat-heading"><span id="translated_PTHeading"> Patient's Complaints</span> </div>
                                                            <ul class="numberol">
                                                              <li *ngFor="let data of findingsSelected"> {{data.value}} </li>
                                                            </ul>
                                                          </div>
                                                          <div class="number-div" *ngIf="symptomsComplete==true && symptomsSelected?.length>0">
                                                            <div class="pat-heading"><span id="translated_sympHeading"> Symptoms</span> </div>
                                                            <ul class="numberol">
                                                              <li *ngFor="let data of symptomsSelected"> {{data.value}} </li>
                                                            </ul>
                                                          </div>
                                                          <div class="number-div" *ngIf="diagnosisComplete==true && diagnosisSelected?.length>0">
                                                            <div class="pat-heading"><span id="translated_diagnosisHeading"> Diagnosis</span> </div>
                                                            <ul class="numberol">
                                                              <li *ngFor="let data of diagnosisSelected">{{data.value}}</li>
                                                            </ul>
                                                          </div>
                                                        </div>
                                                        <div class="" *ngIf="medicationComplete==true">
                                                          <div class="padview-medic" id="translated_medication">
                                                            <div class="pat-heading"><span> Medicines</span> </div>
                                                            <ol style="padding-left:10px">
                                                              <li *ngFor="let data of tempMedicationArray">
                                                                <span *ngIf="data.name=='Tablet' || data.name=='Capsule' || data.name=='Cream' || data.name=='Ointment' || data.name=='Aerosols' || data.name=='Powder' || data.name=='MouthWash'">
                                                                  {{data.short_name}}<b class="notranslate"> {{data.med_name[0].value}} </b>-{{data.frequency}} <span class="notranslate"> X </span> {{data.duration}} days <span *ngIf="data.specialInstruction!=null"> ({{data.specialInstruction}})</span>
                                                                  <span *ngIf="data.med_info"><p class="help-note" *ngIf="data?.med_info?.length>0">({{data.med_info[0].value}}<span *ngIf="data?.med_info?.length>1"> / {{data.med_info[1].value}}</span>)</p>
                                                                </span>
                                                              </span>
                                                              <span *ngIf="data.name=='Syrup' || data.name=='Suspension' || data.name=='Emulsion' || data.name=='Solution'">
                                                                {{data.short_name}}<b class="notranslate"> {{data.med_name[0].value}} </b>- {{data.dosage}}ml <span class="notranslate"> X </span> {{data.frequency}} <span class="notranslate"> X </span> {{data.duration}} days <span *ngIf="data.specialInstruction!=null"> ({{data.specialInstruction}})</span>
                                                                <span *ngIf="data.med_info"><p class="help-note" *ngIf="data?.med_info?.length>0">({{data.med_info[0].value}}<span *ngIf="data?.med_info?.length>1"> / {{data.med_info[1].value}}</span>)</p>
                                                              </span>
                                                            </span>
                                                            <span *ngIf="data.name=='Injection' || data.name=='Gel' || data.name=='Lotion'">
                                                              {{data.short_name}}<b class="notranslate"> {{data.med_name[0].value}} </b><span *ngIf="data.mode"> ({{data.mode}}) </span> -{{data.frequency}} <span class="notranslate"> X </span> {{data.duration}} days <span *ngIf="data.specialInstruction!=null"> ({{data.specialInstruction}})</span><span *ngIf="data.mode"> ({{data.mode}}) </span>
                                                              <span *ngIf="data.med_info"><p class="help-note" *ngIf="data?.med_info?.length>0">({{data.med_info[0].value}}<span *ngIf="data?.med_info?.length>1"> / {{data.med_info[1].value}}</span>)</p>
                                                            </span>
                                                          </span>
                                                          <span *ngIf="data.name=='Drops'">
                                                            {{data.short_name}}<b class="notranslate"> {{data.med_name[0].value}} </b>-{{data.quantity}} drops <span class="notranslate"> X </span> {{data.frequency}} <span class="notranslate"> X </span> {{data.duration}} days <span *ngIf="data.specialInstruction!=null"> ({{data.specialInstruction}})</span>
                                                            <span *ngIf="data.med_info"><p class="help-note" *ngIf="data?.med_info?.length>0">({{data.med_info[0].value}}<span *ngIf="data?.med_info?.length>1"> / {{data.med_info[1].value}}</span>)</p>
                                                          </span>
                                                        </span>
                                                      </li>
                                                    </ol>
                                                  </div>
                                                  <div class="number-div vac-div">
                                                   <div *ngIf="finalCurrentVaccinationArray?.length>0 || finalDueVaccinationArray?.length>0">
                                                    <div class="pat-heading" id="translated_VaccinationHeading"> <span> Vaccination</span> </div>
                                                    <ul class="medicationol" *ngIf="finalCurrentVaccinationArray?.length>0">
                                                      <div><b>Current</b></div>
                                                      <li *ngFor="let data of finalCurrentVaccinationArray">{{data}}</li>
                                                    </ul>
                                                    <ul *ngIf="finalDueVaccinationArray?.length>0" class="medicationol">
                                                      <strong>Due </strong>
                                                           <!--  <span *ngIf="finalDueVaccinationArray?.length>0"><strong>Due </strong>({{vaccinationDate}})
                                                           </span> -->
                                                           <li *ngFor="let data of finalDueVaccinationArray">{{data}}</li>
                                                         </ul>
                                                       </div>
                                                       <div class="" *ngIf="instructionsComplete==true && instructionsSelected?.length>0" id="translated_instHeading">
                                                        <div class="pat-heading"> <span> Instructions</span> </div>
                                                        <ul class="numberol" start="1">
                                                          <li *ngFor="let data of instructionsSelected">{{data}}</li>
                                                        </ul>
                                                      </div>
                                                    </div>
                                                  </div>
                                                </div>
                                                <div class="third-body">
                                                  <div class="number-div" *ngIf="investigationIndicatorComplete==true && investigationArray?.length">
                                                    <div class="pat-heading"> <span id="translated_invHeading"> Investigation</span> </div>
                                                    <ol class="numberol pl10">
                                                      <li *ngFor="let data of investigationArray">
                                                        <span *ngIf="data.name != 'Mammography' && data.name!= 'Uroflowmetry' && data.name != 'ECG' && data.name != 'EEG' && data.name != 'TMT' && data.name != 'Echo'">
                                                          <span *ngIf="data.name!='Others'">{{data.name}} - </span><span *ngFor="let value of data.values;let i = index">{{value.value}} 
                                                            <span *ngIf="i!=data?.values?.length-1">\</span>
                                                          </span>
                                                        </span>
                                                        <span *ngIf="data.name == 'Mammography' || data.name== 'Uroflowmetry' || data.name == 'ECG' || data.name == 'EEG' || data.name == 'TMT' || data.name == 'Echo'">
                                                          <span *ngIf="data.name!='Others'">{{data.name}} - </span> {{data.values}}
                                                        </span>
                                                      </li>
                                                    </ol>
                                                  </div>
                                                  <div class="number-div" *ngIf="treatmentComplete==true" id="translated_OTHeading">
                                                    <div class="pat-heading"> <span> Other Treatments</span> </div>
                                                    <ul class="numberol">
                                                      <li *ngFor="let data of treatmentArray;let i =index">
                                                        <span *ngIf="data.name=='Lifestyle Changes'">
                                                          {{data.name}} - <span *ngFor="let value of data.lifestyle;let j = index">{{value.value}} <span *ngIf="j!=data?.lifestyle?.length-1">\</span></span>
                                                        </span>
                                                        <span *ngIf="data.name=='Physiotherapy' || data.name=='Fomentation'">
                                                          {{data.name}} - {{data.Frequency}} for {{data.Duration}} days <span *ngIf="data.SpecialInstruction!=null"> ({{data.SpecialInstruction}})</span>
                                                        </span>
                                                        <span *ngIf="data.name=='Plaster'">
                                                          <span class="notranslate">{{data.name}}</span> - on <span class="notranslate">{{data.Injury_Area}}</span> of {{data.plaster_type}} for {{data.Duration}} days 
                                                        </span>
                                                        <span *ngIf="data.name=='Gargle' || data.name=='Dressing' || data.name=='Bandage' || data.name=='Other'">
                                                          <span *ngIf="data.name!='Other'">{{data.name}} - </span>{{data.med_name[0].value}} {{data.Frequency}} for {{data.Duration}} days <span *ngIf="data.SpecialInstruction!=null"> ({{data.SpecialInstruction}})</span>
                                                        </span>
                                                        <span>
                                                          {{data.value}}
                                                        </span>
                                                      </li>
                                                    </ul>
                                                  </div>
                                                </div>
                                                <div class="note-box">
                                                  <div class="note-innerbox">
                                                    <div class="note-innerdiv">
                                                      <div class="number-div" *ngIf="surgeryComplete==true && surgerySelectedArray?.length>0">
                                                        <div class="pat-heading"> <span id="translated_surgHeading"> Recommended Surgery</span> </div>
                                                        <ul class="numberol">
                                                          <li *ngFor="let data of surgerySelectedArray">{{data.sub_speciality | titlecase}} - {{data.procedure_name[0].value}}</li>
                                                        </ul>
                                                      </div>
                                                      <div class="number-div" *ngIf="referDoctorName?.first_name" style="padding:0 30px;">
                                                        <div class="pat-heading"> <span> Referred To</span> </div>
                                                        <p> {{referDoctorName?.first_name | uppercase}} </p>
                                                      </div>
                                                    </div>
                                                  </div>
                                                  <div class="" *ngIf="eyePresComplete==true">
                                                    <div class="pat-heading"> <span id="translated_eyeHeading"> Eye Prescription</span> </div>
                                                    <div class="table-responsive">
                                                      <table class="table table-bordered table-striped cstm-table">
                                                        <thead>
                                                          <tr>
                                                            <th> Eye </th>
                                                            <th> Sphere </th>
                                                            <th> Cylinder </th>
                                                            <th> Axis </th>
                                                            <th> Add </th>
                                                            <th> PD (mm) </th>
                                                          </tr>
                                                        </thead>
                                                        <tbody>
                                                          <tr>
                                                            <td> Right (OD): </td>
                                                            <td> {{finalRightOD.sphere}} </td>
                                                            <td> {{finalRightOD.cylinder}} </td>
                                                            <td> {{finalRightOD.axis}} </td>
                                                            <td> {{finalRightOD.add}} </td>
                                                            <td> {{finalRightOD.pd}} </td>
                                                          </tr>
                                                          <tr>
                                                            <td> Left (OS): </td>
                                                            <td> {{finalLeftOD.sphere}} </td>
                                                            <td> {{finalLeftOD.cylinder}} </td>
                                                            <td> {{finalLeftOD.axis}} </td>
                                                            <td> {{finalLeftOD.add}} </td>
                                                            <td> {{finalLeftOD.pd}} </td>
                                                          </tr>
                                                        </tbody>
                                                      </table>
                                                    </div>
                                                  </div>
                                                </div>
                                                <div class="third-body">
                                                  <div class="number-div" *ngIf="followDaysComplete == true">
                                                    <div class="pat-heading"> <span> Follow Up</span></div>
                                                    <p> Please come again after {{finalfollowUpDays}} days for consultation </p>
                                                    <p class="small"> On {{followUpDay}} {{followUpMonth}} , {{followUpYear}}</p>
                                                  </div>
                                                </div>
                                                <div class="forth-body">
                                                  <div class="padview-confee" *ngIf="checkOptionOfPad('Consultation_duration')">
                                                    <div class="cons-time">Consultation Duration: {{minutes}} min {{seconds}} sec </div>
                                                  </div>
                                                  <div class="signature" *ngIf="checkOptionOfPad('Signature')">(Signature)</div>
                                                </div>
                                              </div>
                                            </div>
                                          </div>
                                          <div class="padview-footer" *ngIf="checkOptionOfPad('Footer_note')">
                                            <div class="col-md-12 col-sm-12 col-xs-12">
                                              <div class="padview-powered">
                                                <div style="float:left; color:#ccc;">Powered by doctm</div>
                                                <div style="float:right; color:#ccc;">For prescription visit www.mydoctm.com </div>
                                              </div>
                                            </div>
                                            <div class="col-md-12 col-sm-4 col-xs-12" id="translated_footer">
                                              <div class="legal">
                                                <h3>{{getFooterText()}}</h3>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
<!--     <div class="modal-content" *ngIf="!medicationComplete">
        <div class="modal-header">

        </div>
        <div class="modal-body">
            <div class="text-center">
                <h3>Prescription not Available</h3>
            </div>
        </div>
            <div class="modal-footer">
                <div class="col-md-12 col-sm-12 col-xs-12">
                    <div class="padview-powered">
                        <div style="float:left; color:#ccc;">Powered by doctm</div>
                        <div style="float:right; color:#ccc;">For prescription visit www.mydoctm.com </div>
                    </div>
                </div>
                <div class="col-md-12 col-sm-4 col-xs-12" id="translated_footer">
                    <div class="legal">
                        <h3>{{getFooterText()}}</h3>
                    </div>
                </div>
            </div>
        
        
        
          </div> -->
        </div>
      </div>



      <!-- The Modal -->
      <div class="modal" id="PrescriptionNot">
        <div class="modal-dialog">
          <div class="modal-content">

            <!-- Modal Header -->
            <div class="modal-header">
              <h4 class="modal-title">Prescription</h4>
              <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>

            <!-- Modal body -->
            <div class="modal-body">
             <div class="text-center">
                <h3>Prescription not Available</h3>
            </div>
            </div>

            <!-- Modal footer -->
            <div class="modal-footer">
                <div class="col-md-12 col-sm-12 col-xs-12">
                    <div class="padview-powered">
                        <div style="float:left; color:#ccc;">Powered by doctm</div>
                        <div style="float:right; color:#ccc;">For prescription visit www.mydoctm.com </div>
                    </div>
                </div>
            </div>

          </div>
        </div>
      </div>